{"version":3,"sources":["components/utils/authentication.js","components/utils/protected-routes.js","actions/userActions.js","actions/types.js","actions/recipeActions.js","components/login/login.js","components/footer/footer.js","components/landingPage.js","components/utils/logout.js","components/navbar/navbar.js","components/utils/search.js","components/recipe/main/myRecipes.js","components/recipe/main/index.js","components/utils/functions.js","components/register/register.js","components/recipe/view-recipe/displayIngredients.js","components/recipe/view-recipe/displayProcedure.js","components/recipe/view-recipe/index.js","components/recipe/view-recipe/viewRecipeNotLoggedIn.js","components/recipe/create-recipe/createRecipeForm.js","components/recipe/create-recipe/index.js","components/account/reset-password/emailVerification.js","components/account/reset-password/verificationCode.js","components/account/reset-password/newPassword.js","components/account/reset-password/index.js","components/utils/advancedSearch.js","components/recipe/discover/filterResult.js","components/recipe/discover/recipeSearchResults.js","components/recipe/discover/index.js","components/user/bug/index.js","components/user/feature-request/index.js","reducers/userReducer.js","reducers/recipeReducer.js","reducers/index.js","store.js","App.js","index.js","assets/images/secret_recipe_key.png"],"names":["this","auhenticated","callback","ProtectedRoute","Component","component","rest","render","props","Authenticated","isAuthenticated","to","pathname","state","from","location","getUserById","request","dispatch","axios","get","then","user","type","payload","data","getAllUserRecipes","userId","params","recipes","resetRecipes","Login","username","password","badLogin","handleUsernameChange","bind","handlePasswordChange","handleSubmit","event","preventDefault","setState","target","value","length","User_Id","login","history","push","loginError","className","onSubmit","onChange","placeholder","maxLength","required","id","style","borderStyle","connect","getUser","withRouter","Footer","Date","getFullYear","LandingPage","accountCreated","updatedPassword","e","Notification","Logout","Nav","Item","color","textDecoration","onClick","resetUser","logout","recipe","MainNavbar","map","Username","Navbar","collapseOnSelect","expand","bg","Toggle","Collapse","Brand","Link","active","eventKey","as","NavDropdown","title","href","Divider","Search","search","updateSearch","filteredRecipes","Name","toLowerCase","includes","Promise","all","handleRecipeSearch","width","MyRecipes","searching","recipesLoaded","emptyList","key","Recipe_Id","Servings","Cooking_Time","name","textAlign","nextProps","prevState","Index","deletedRecipe","bugSubmited","featureRequestSubmited","notification","getRecipeById","recipeId","resolve","reject","response","getIngredientsByRecepieId","getProcedureByRecipeId","getSavedRecipe","query","insertIngredient","ingredients","ingredient","ingredientDetail","measurementId","MeasurementId","ingredientName","Ingredient","amount","Amount","post","insertSteps","stepsList","step","cookingStepsDetails","order","description","register","loading","email","confirmPassword","errorMessage","handleEmailChange","handleConfirmPasswordChange","passwordMatch","doesUsernameAlreadyExist","catch","exception","error","password1","password2","minLength","margin","size","DisplayIngredients","errors","Ingredient_Id","Measurement_Name","DisplayProcedure","procedure","Procedure_Id","Order","ViewRecipe","handleSaveRecipe","disableInput","savedRecipe","savedRecipeLoaded","handleUnsaveRecipe","savedRecipeId","Saved_Recipe_Id","doesRecipeBelongToUser","match","console","log","User_Id_FK","confirmAlert","message","buttons","label","editRecipe","handleDeleteRecipe","disabled","Secret_Recipe","src","imageKey","editedRecipe","editButton","displayEditButton","deleteButton","displayDeleteButton","saveButton","displaySaveButton","recipeEditedNotification","keySymbol","displaySecretRecipeKey","marginTop","fontSize","Description","CreateRecipeForm","handleServingsChange","servings","handleSecretRecipeChange","secretRecipe","secretRecipeDisplay","step1Display","step2Display","step3Display","step4Display","pageTitle","errorMsg","inEditMode","recipeName","cookingTime","ingredientId","measurementOptions","ingredientAmount","ingredientMeasurement","ingredientMeasurementId","cookingStep","cookingStepId","handleRecipeChange","handleDescriptionChange","handleCookingTimeChange","addIngredientToList","handleIngredientChange","handleAmountChange","handleMeasurementChange","removeIngredientFromList","handleDCookingStepsChange","addStepsToList","removeStepFromList","createRecipe","updateRecipe","handleExitEditing","setStateInEditMode","ingredientArray","stepsArray","Measurement","Measurement_Id","recipeDetail","insertId","err","deleteAllIngredientsFromRecipe","stepDetail","deleteAllStepsFromRecipe","filter","item","stepId","isFormStageComplete","changeFormStep","pattern","min","max","rows","ingredientsAdded","displayIngredients","marginBottom","measurement","minWidth","displaySteps","renderCompletionForm","ingredientList","stepList","class","step1","renderStep1","step2","renderStep2","step3","renderStep3","step4","renderStep4","exitEditingButton","renderExitButon","CreateRecipe","EmailVerification","errMsg","verificationCode","Math","floor","random","setEmailAndVerification","hideEmailForm","showVerificationForm","VerificationCode","maxAttempts","handleCodeChange","hideVerificationForm","showNewPassword","checkMaxAttempts","float","NewPassword","ResetPassword","displayEmailForm","displayVerificationForm","displayNewPasswordForm","showNewPasswordForm","DisplayEmailVerification","display","hideEmail","showVerification","DisplayVerificationCode","hideVerification","DisplayNewPassword","AdvancedSearch","setRecipesLoaded","searchDetails","recipeSearch","ingredientsList","results","setRecipes","handleAddIngredientSubmit","Id","handleRecipeSearchChange","handleIngredientsChange","handleDisplayIngredient","displayAddIngredients","displayRecipeSearch","handleDisplaySearch","handleRemoveIngredient","filteredList","recipeResults","displaySearch","FilterResult","handleNewest","filterRecipes","handleOldest","handleMostSaved","dropdownOpen","toggle","Dropdown","variant","Menu","RecipeSearchResults","displaySearchHelp","customUI","onClose","filterType","sort","a","b","Created_Date","parseFloat","Saves","didFindRecipes","renderViewButton","isLoaded","bugDetail","handleTitleChange","featureDetail","initialState","combineReducers","action","middleware","thunk","persistConfig","storage","persistedReducer","persistReducer","rootReducer","store","createStore","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","persistor","persistStore","App","exact","path","Register","ViewRecipeNotLoggedIn","Discover","Bug","FeatureRequest","ReactDOM","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.c2430872.chunk.js","sourcesContent":["class Authentication{\r\n    constructor(){\r\n        this.auhenticated = true; //When deployed, set to false\r\n    }\r\n\r\n    login(callback){\r\n        this.auhenticated = true;\r\n        callback();\r\n    }\r\n\r\n    logout(callback){\r\n        this.auhenticated = false;\r\n        callback();\r\n    }\r\n\r\n    isAuthenticated(){\r\n        return this.auhenticated;\r\n    }\r\n\r\n}\r\n\r\nexport default new Authentication();","//This component protects other components from being access from unauthorized users. Use this components if you only\r\n//want to allow access to athenticated (Logged in) users.\r\n//Example: <ProtectedRoute path =\"/home\" component={Home} />\r\n\r\nimport React from 'react'\r\nimport {Route, Redirect} from 'react-router-dom'\r\nimport Authenticated from './authentication'\r\n\r\nexport const ProtectedRoute = ({component: Component, ...rest}) => {\r\n    return(\r\n        <Route \r\n            {...rest} \r\n            render={props => {\r\n                if(Authenticated.isAuthenticated()){\r\n                    return<Component {...props} /> \r\n                }\r\n                //User is not logged in, return to landing page\r\n                else{\r\n                    return <Redirect to={\r\n                        {\r\n                            pathname: \"/\",\r\n                            state: {\r\n                                from: props.location\r\n                            }\r\n                        }\r\n                    }/>\r\n                }\r\n            }}\r\n        />\r\n    );\r\n}","import axios from 'axios';\r\nimport {GET_USER, GET_USER_BY_ID, RESET_USER} from './types';\r\n\r\nexport const getUser = (request) => dispatch => {\r\n    axios.get('/getUser', request)\r\n    .then((user) => dispatch({\r\n        type: GET_USER,\r\n        payload: user.data\r\n    }))\r\n}\r\n\r\nexport const getUserById = (request) => dispatch => {\r\n    axios.get('/getUserById', request)\r\n    .then((user) => dispatch({\r\n        type: GET_USER_BY_ID,\r\n        payload: user.data\r\n    }))\r\n}\r\n\r\nexport const resetUser = () => dispatch => {\r\n    dispatch({\r\n        type: RESET_USER,\r\n        payload: []\r\n    })\r\n}\r\n\r\n","export const GET_USER = \"GET_USER\";\r\nexport const GET_USER_BY_ID = \"GET_USER_BY_ID\";\r\nexport const GET_USER_RECIPES = \"GET_USER_RECIPES\";\r\nexport const RESET_USER = \"RESET_USER\";\r\nexport const RESET_RECIPES = \"RESET_RECIPES\";\r\n","import axios from 'axios';\r\nimport {GET_USER_RECIPES, RESET_RECIPES} from './types';\r\n\r\nexport const getAllUserRecipes = (userId) => dispatch => {\r\n    var request = {\r\n        params:{\r\n            userId: userId\r\n        }\r\n    }\r\n    axios.get('/getMyRecipesAndSavedRecipes', request)\r\n    .then((recipes) => dispatch({\r\n        type: GET_USER_RECIPES,\r\n        payload: recipes.data\r\n    }))\r\n}\r\n\r\nexport const resetRecipes = () => dispatch => {\r\n    dispatch({\r\n        type: RESET_RECIPES,\r\n        payload: []\r\n    })\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport { withRouter } from 'react-router';\r\nimport {connect} from 'react-redux'\r\nimport {getUser, getUserById} from '../../actions/userActions';\r\nimport {getAllUserRecipes, resetRecipes} from '../../actions/recipeActions';\r\n\r\n\r\nimport '../../styles/login/login.css'\r\nimport Authenticated from '../utils/authentication'\r\n\r\nclass Login extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            badLogin: false\r\n        };\r\n\r\n        this.handleUsernameChange = this.handleUsernameChange.bind(this);\r\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleUsernameChange(event){\r\n        event.preventDefault();\r\n        this.setState({username: event.target.value})\r\n    }\r\n\r\n    handlePasswordChange(event){\r\n        event.preventDefault();\r\n        this.setState({password: event.target.value})\r\n    }\r\n\r\n \r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n\r\n        var request = {\r\n            params:{\r\n                username: this.state.username,\r\n                password: this.state.password\r\n            }\r\n        }\r\n        axios.get('/getUserByNameOrEmailAndPassword', request).then((user)=>{  //\r\n            if(user.data.length === 0){\r\n                this.setState({ badLogin: true });\r\n            }\r\n            else{\r\n                this.setState({ badLogin: false });\r\n                var request = {\r\n                    params:{\r\n                        userId: user.data[0].User_Id\r\n                    }\r\n                }\r\n                this.props.getUserById(request)\r\n                this.props.resetRecipes();\r\n                this.props.getAllUserRecipes(user.data[0].User_Id)\r\n                Authenticated.login(()=>{\r\n                    this.props.history.push({pathname: \"/Home\", state:{userId: user.data[0].User_Id}}) \r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var loginError;\r\n        if(this.state.badLogin === true){\r\n            loginError = <p className=\"loginError\">Username or password is incorrect</p>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Username or Email</label>\r\n                        <input type=\"text\" className=\"form-control\" onChange={this.handleUsernameChange} placeholder=\"\" maxLength=\"30\" required /> \r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Password</label>\r\n                        <input type=\"password\" className=\"form-control\" onChange={this.handlePasswordChange} placeholder=\"\" maxLength=\"20\" required/>\r\n                    </div>\r\n                    {loginError}\r\n                    <div className=\"loginButtonDiv\">\r\n                        <input type=\"submit\" id=\"loginButton\" style={{borderStyle:\"solid\"}}className=\"btn-lg btn-success\" value=\"Login\"/>\r\n                    </div>\r\n                </form> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//map state to props to get state from redux and use in this component\r\nconst mapStateToProps = state => ({\r\n    user: state.user.user,\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {getUser, getUserById, getAllUserRecipes, resetRecipes})(withRouter(Login));\r\n","import React from 'react'\r\nimport '../../styles/landingPage.css'\r\n\r\nfunction Footer() {\r\n    return (\r\n        <div className=\"main-footer\">\r\n            <div className=\"container\">\r\n                <div className=\"row footerRow\">\r\n                    <p className=\"col\">\r\n                        &copy;{new Date().getFullYear()} All rights reserved\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react'\r\nimport '../styles/landingPage.css'\r\nimport Login from './login/login'\r\nimport {Link} from 'react-router-dom'\r\nimport Footer from './footer/footer'\r\n\r\nclass LandingPage extends Component {\r\n\r\n    //function returns a notification to the user for various reasons\r\n    Notification(){\r\n        try{\r\n            //New Account\r\n            if(this.props.location.state.accountCreated === true){\r\n                this.props.location.state.accountCreated = false; //reset \r\n                return <h4 className=\"accountCreatedMsg\">Congratulations, your account has been created!</h4>\r\n            } \r\n            //Password updated\r\n            else if(this.props.location.state.updatedPassword === true){\r\n                this.props.location.state.updatedPassword = false; //reset \r\n                return <h4 className=\"accountCreatedMsg\">Success, your password has been updated!</h4>\r\n            }\r\n        } catch(e){}\r\n    }\r\n\r\n    render() {\r\n        var Notification = this.Notification();\r\n\r\n        return (\r\n                <div className=\"landingPage-div\">\r\n                    <div className=\"landingPage-main\">\r\n                        <h1 className=\"landingPageTitle header\"> Store your Recipe's Online </h1>\r\n                        {Notification}\r\n                            <div className=\"container landingPage-Container\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"leftContainer col-lg-5 col-sm-12\">\r\n                                        <h2 className=\"leftContainerMessage\">Store all your recipes online for free.</h2>\r\n                                        <br />\r\n                                        <ul>\r\n                                            <li>Create and store your own recipes</li> <br />\r\n                                            <li>Discover thousands of recipes with just a few clicks</li>\r\n                                        </ul>\r\n                                        <div className=\"d-flex justify-content-center\">\r\n                                                <Link to=\"/Register\" className=\"btn-lg btn-primary\">Register</Link>\r\n                                            </div>\r\n                                    </div>\r\n                                    <div className=\"rightContainer col-lg-7\">\r\n                                        <div className=\"col-lg-8 col-md-10 col-sm-12 landingPage-Login\">\r\n                                            <Login/>\r\n                                        </div>\r\n                                        <br />\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-12 text-center\">\r\n                                                <Link to=\"/ResetPassword\">Reset Password</Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"landingPage-discoverNow text-center col-lg-12\">\r\n                                        <p>Discover recipes NOW</p>\r\n                                        <Link to=\"/Discover\" className=\"btn-lg btn-info\">Discover Recipes</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div id=\"footer\" className=\"footer footer-left\">\r\n                            < Footer/>\r\n                        </div>\r\n                </div>\r\n                \r\n        )\r\n    }\r\n}\r\n\r\nexport default LandingPage;\r\n","import React, { Component } from 'react'\r\nimport Authenticated from './authentication'\r\nimport {Link} from 'react-router-dom'\r\nimport { Nav, Navbar} from 'react-bootstrap';\r\nimport {connect} from 'react-redux'\r\nimport {resetRecipes} from '../../actions/recipeActions';\r\nimport {resetUser} from '../../actions/userActions'\r\n\r\n\r\n\r\n//import '../../styles/navbar/navbar.css'\r\n\r\nclass Logout extends Component {\r\n    render() {\r\n        return (\r\n            <Nav.Item>\r\n                    <Link to=\"/\" className=\"logout hoverOpacity\" style={{color:\"black\", textDecoration: 'none'}} onClick = {() => {\r\n                        this.props.resetRecipes();\r\n                        this.props.resetUser();\r\n                        Authenticated.logout(() => {})\r\n                    }}> \r\n                        Logout \r\n                    </Link>\r\n            </Nav.Item>\r\n        )\r\n    }\r\n}\r\n\r\n//map state to props to get state from redux and use in this component\r\nconst mapStateToProps = state => ({\r\n    user: state.user.user,\r\n    recipe: state.recipe.recipes\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {resetRecipes, resetUser})(Logout);\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nimport { Nav, Navbar, NavDropdown} from 'react-bootstrap';\r\n\r\nimport Logout from '../utils/logout'\r\nimport '../../styles/navbar/navbar.css'\r\n \r\nclass MainNavbar extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            username: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.user.map((user)=>{\r\n           this.setState({username: user.Username})\r\n        })\r\n    } \r\n\r\n    render() {\r\n        return (\r\n            <Navbar collapseOnSelect expand=\"lg\" bg=\"light\">\r\n                <Navbar.Toggle />\r\n                <Navbar.Collapse>\r\n                    <Nav className=\"mr-auto\">\r\n                        <Navbar.Brand>\r\n                            Welcome {this.state.username} \r\n                        </Navbar.Brand>\r\n                        <Nav.Item>\r\n                            <Nav.Link className=\"hoverOpacity\" active eventKey=\"1\" as={Link} to=\"/Home\" style={{color:\"black\"}}>\r\n                                Home\r\n                            </Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link className=\"hoverOpacity\" eventKey=\"2\" as={Link} style={{color:\"black\"}} to=\"/CreateRecipe\">\r\n                                Create Recipe\r\n                            </Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link className=\"hoverOpacity\" eventKey=\"3\" as={Link} style={{color:\"black\"}} to=\"/Discover\">\r\n                                Discover\r\n                            </Nav.Link>\r\n                        </Nav.Item>\r\n                        <NavDropdown title=\"Settings\" className=\"text-primary navbar-default dropdownTitle\" id=\"basic-nav-dropdown\">\r\n                            <NavDropdown.Item className=\"hoverOpacity\" href=\"#action/3.2\">\r\n                                <Logout />\r\n                            </NavDropdown.Item>\r\n                            <NavDropdown.Divider />\r\n                            <NavDropdown.Item className=\"hoverOpacity\" eventKey=\"4\" as={Link} to=\"/ReportBug\">\r\n                                Report Bug\r\n                            </NavDropdown.Item>\r\n                            <NavDropdown.Item className=\"hoverOpacity\" eventKey=\"5\" as={Link} to=\"/FeatureRequest\">\r\n                                Request Feature\r\n                            </NavDropdown.Item>\r\n                        </NavDropdown>\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        )\r\n    }\r\n}\r\n\r\n//map state to props to get state from redux and use in this component\r\nconst mapStateToProps = state => ({\r\n    user: state.user.user\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps)(MainNavbar);\r\n","import React, { Component } from 'react'\r\nimport '../../styles/recipe/main/myRecipes.css'\r\n\r\nclass Search extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            search: \"\",\r\n        }\r\n        \r\n        this.updateSearch = this.updateSearch.bind(this)\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n    }\r\n\r\n    updateSearch(event){\r\n        event.preventDefault();\r\n        this.setState({search: event.target.value});\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        var filteredRecipes = []\r\n\r\n        const request = this.props.recipes.map(recipe => {\r\n            if(recipe.Name.toLowerCase().includes(this.state.search.toLowerCase())){\r\n                filteredRecipes.push(recipe)\r\n            } \r\n        })\r\n        Promise.all(request).then(()=>{\r\n            this.props.handleRecipeSearch(filteredRecipes)\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"searchRecipeDiv col-12\">\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-4\"></div>\r\n\r\n                        <div className=\"form-group col-lg-4  col-sm-10\">\r\n                            <input type=\"text\" className=\"form-control\" onChange={this.updateSearch} value={this.state.search} placeholder=\"Recipe Name\" maxLength=\"40\"/>\r\n                        </div>\r\n\r\n                        <div className=\"form-group col-lg-1 col-sm-2\">\r\n                            <input type=\"submit\" className=\"btn btn-primary searchMyRecipeBtn\" value=\"Search\" width=\"10px\"/>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Search;","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport '../../../styles/recipe/main/myRecipes.css'\r\nimport {Link} from 'react-router-dom'\r\nimport Search from '../../utils/search'\r\nimport { getAllUserRecipes } from '../../../actions/recipeActions'\r\n\r\n\r\nclass MyRecipes extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            recipes: '',\r\n            recipesLoaded: false,\r\n            searching: false,\r\n        }\r\n    }\r\n\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) { \r\n        //Only set local state recipes to recipes stored in redux on intial load. Disable when searching\r\n        if(prevState.searching === false){\r\n            return{\r\n                recipes: nextProps.recipe,\r\n                recipesLoaded: true,\r\n            }\r\n        }\r\n    } \r\n\r\n    handleRecipeSearch = (filteredRecipes) => {\r\n        this.setState({recipes: filteredRecipes, searching: true})\r\n    }\r\n\r\n    \r\n    render() {\r\n        var emptyList = null   //Display message if no recipes found\r\n        var recipes = null;   //Maps recipe from redux store\r\n        if(this.state.recipesLoaded === true){\r\n            recipes = this.state.recipes.map((recipe) => {\r\n                return <div className=\"recipeCard card col-md-4 col-sm-6\" key={recipe.Recipe_Id}> \r\n                           {/* <img className=\"card-img-top \" src=\"...\" alt=\"Image of Food\"></img> */}\r\n                            <div className=\"card-body recipeCardBody\">\r\n                                <h5 className=\"card-title\">{recipe.Name} </h5>\r\n                                <p className=\"card-text\">Servings: {recipe.Servings}</p>\r\n                                {/*<p className=\"card-text\"> {recipe.Description}</p> */}\r\n                                <p className=\"card-text\">Time: {recipe.Cooking_Time} Minutes</p>\r\n                                <Link className=\"btn btn-success viewButton\" to={\"ViewRecipe/\"+(recipe.Recipe_Id)}>View</Link>\r\n                                {/*  <button className=\"btn btn-warning editButton\">Edit</button> */}\r\n                            </div>\r\n                            <input type=\"hidden\" id=\"recipeId\" name=\"recipeId\" value={recipe.Recipe_Id} />\r\n                       </div>\r\n            })\r\n\r\n            if(this.state.recipes.length === 0){\r\n                emptyList = <p style={{textAlign: \"center\"}}>No Recipe Found...</p>\r\n            }\r\n        }\r\n        \r\n\r\n        return (\r\n           //Display 3 Recipes on the same line and then collapse\r\n            <div>\r\n                <div className=\"container\">\r\n\r\n                    {/* Search Recipe Functionality*/}\r\n                    <div className=\"row\">\r\n                        <Search recipes={this.props.recipe} handleRecipeSearch={this.handleRecipeSearch}/>\r\n                    </div>\r\n                    \r\n                    {/* No Recipes Found */}\r\n                    <div style={{textAlign: \"center\"}}>\r\n                        {emptyList}\r\n                    </div>\r\n\r\n                    {/* All Recipes displayed*/}\r\n                    <div className=\"row\">\r\n                        {recipes}\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//map state to props to get state from redux and use in this component\r\nconst mapStateToProps = state => ({\r\n    recipe: state.recipe.recipes\r\n})\r\n\r\nexport default connect(mapStateToProps)(MyRecipes);","//Parent Page for users when logged in. Redux Store is initalized here and all child components have access to redux store\r\nimport React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {getUserById} from '../../../actions/userActions';\r\nimport {getAllUserRecipes, resetRecipes} from '../../../actions/recipeActions';\r\n\r\nimport Navbar from '../../navbar/navbar'\r\nimport MyRecipes from './myRecipes'\r\nimport Search from '../../utils/search'\r\nimport '../../../styles/recipe/main/myRecipes.css'\r\n\r\nclass Index extends Component {\r\n    \r\n    //function returns a notification to user for various reasons \r\n    Notification(){\r\n         try{\r\n             if(this.props.location.state.deletedRecipe === true){\r\n                 return <p className=\"recipeMessage\">Recipe Successfully Deleted!</p>\r\n             } else if (this.props.location.state.bugSubmited === true){\r\n                return <p className=\"recipeMessage\">Thank you, your bug has been reported!</p>\r\n             } else if (this.props.location.state.featureRequestSubmited === true){\r\n                 return <p className=\"recipeMessage\">Thank you, your feature request has been submited!</p>\r\n             }\r\n         } catch(e){}\r\n     }\r\n\r\n    render() {\r\n        var notification = this.Notification();\r\n\r\n        return (\r\n            <div>\r\n                <Navbar />\r\n                <div className=\"myRecipeIndexNotification\">\r\n                    {notification}\r\n                </div>\r\n                <div className=\"main myRecipeMain\"> \r\n                    <MyRecipes />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//map state to props to get state from redux and use in this component\r\nconst mapStateToProps = state => ({\r\n    user: state.user.user,\r\n    recipes: state.recipe.recipes\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {getUserById, getAllUserRecipes, resetRecipes})(Index);","import axios from 'axios';\r\n\r\nexport function getRecipeById(recipeId){\r\n    return new Promise(function(resolve,reject){\r\n        var request = {\r\n            params:{\r\n                recipeId: recipeId,\r\n            }\r\n        }\r\n        axios.get('/getRecipeById', request).then((response)=>{\r\n            if (response.data.length === 0){\r\n                reject(\"Error 404, Recipe Not found\")\r\n            } else{\r\n                resolve(response);\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nexport function getIngredientsByRecepieId(recipeId){\r\n    return new Promise(function(resolve,reject){\r\n        var request = {\r\n            params:{\r\n                recipeId: recipeId,\r\n            }\r\n        }\r\n        axios.get('/getIngredientsByRecepieId', request).then((response)=>{\r\n            if (response.data.length === 0){\r\n                reject(\"Error 404, Ingredients for Recipe Not found\")\r\n            } else{\r\n                resolve(response);\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\n//Cooking procedure is OPTIONAL, so empty result is fine\r\nexport function getProcedureByRecipeId(recipeId){\r\n    return new Promise(function(resolve,reject){\r\n        var request = {\r\n            params:{\r\n                recipeId: recipeId,\r\n            }\r\n        }\r\n        axios.get('/getProcedureByRecipeId', request).then((response)=>{\r\n            resolve(response);\r\n        })\r\n    })\r\n}\r\n\r\nexport function getSavedRecipe(userId, recipeId){\r\n    return new Promise(function(resolve,reject){\r\n        var query = {\r\n            params:{\r\n                userId: userId,\r\n                recipeId: recipeId,\r\n            }\r\n        }\r\n        axios.get('/getSavedRecipe', query).then((response)=>{\r\n            resolve(response);\r\n        })\r\n    })\r\n}\r\n\r\n//Function recieves an array objects of ingredients\r\nexport function insertIngredient(recipeId, ingredients){\r\n    return new Promise(function(resolve,reject){\r\n        ingredients.map(ingredient => {\r\n            var ingredientDetail = {\r\n                recipeId: recipeId,\r\n                measurementId: ingredient.MeasurementId,\r\n                ingredientName: ingredient.Ingredient,\r\n                amount: ingredient.Amount\r\n            }\r\n            axios.post('/insertIngredient', ingredientDetail).then((response)=>{})\r\n        })\r\n        resolve();\r\n    })\r\n}\r\n\r\nexport function deleteAllIngredientsFromRecipe(recipeId){\r\n    return new Promise(function(resolve,reject){\r\n            var ingredientDetail = {\r\n                recipeId: recipeId\r\n            }\r\n            axios.post('/deleteAllIngredientsByRecipeId', ingredientDetail).then((response)=>{})\r\n        resolve();\r\n    })\r\n}\r\n\r\nexport function insertSteps(recipeId, stepsList){\r\n    return new Promise(function(resolve,reject){\r\n        stepsList.map(step => {\r\n            var cookingStepsDetails = {\r\n                recipeId: recipeId,\r\n                order: step.id,\r\n                name: step.description\r\n            }\r\n            axios.post('/insertCookingProcedure', cookingStepsDetails).then((response)=>{})\r\n        })\r\n        resolve();\r\n    })\r\n}\r\n\r\nexport function deleteAllStepsFromRecipe(recipeId){\r\n    return new Promise(function(resolve,reject){\r\n            var stepDetail = {\r\n                recipeId: recipeId\r\n            }\r\n            axios.post('/deleteAllCookingProcedureByRecipeId', stepDetail).then((response)=>{})\r\n        resolve();\r\n    })\r\n}\r\n\r\nexport function deleteRecipe(recipeId){\r\n    return new Promise(function(resolve,reject){\r\n        var data = {\r\n            recipeId: recipeId\r\n        }\r\n        axios.post('/deleteRecipeById', data).then((response)=>{\r\n            resolve();\r\n        }).catch((exception)=>{\r\n            reject(exception)\r\n        })\r\n    })\r\n}\r\n\r\nexport function doesEmailAlreadyExist (email){\r\n    return new Promise(function(resolve,reject){\r\n        var request = {\r\n            params:{\r\n                email: email\r\n            }\r\n        }\r\n         axios.get('/getEmail', request).then((user)=>{\r\n            if(user.data.length === 0){\r\n                resolve(false);\r\n            }\r\n            else{\r\n                reject(\"Error, email already exists\");\r\n            }\r\n        })\r\n    });\r\n}\r\n\r\nexport function doesEmailExist (email){\r\n    return new Promise(function(resolve,reject){\r\n        var request = {\r\n            params:{\r\n                email: email\r\n            }\r\n        }\r\n         axios.get('/getEmail', request).then((user)=>{\r\n            if(user.data.length === 1){\r\n                resolve(false);\r\n            }\r\n            else{\r\n                reject(\"Error, email doesn't exist\");\r\n            }\r\n        })\r\n    });\r\n}\r\n\r\nexport function updatePasswordByEmail(email,password){\r\n    return new Promise(function(resolve,reject){\r\n        var data = {\r\n            email: email,\r\n            password: password\r\n        }\r\n        axios.post('/updatePasswordByEmail', data).then((response)=>{\r\n            resolve();\r\n        }).catch((exception)=>{\r\n            reject(exception)\r\n        })\r\n    })\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport '../../styles/register/register.css'\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport {doesEmailAlreadyExist} from '../utils/functions'\r\n\r\nclass register extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n            email: \"\",\r\n            username: \"\",\r\n            password: \"\",\r\n            confirmPassword: \"\",\r\n            errorMessage: \"\"\r\n        }\r\n\r\n        this.handleEmailChange = this.handleEmailChange.bind(this);\r\n        this.handleUsernameChange = this.handleUsernameChange.bind(this);\r\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n        this.handleConfirmPasswordChange = this.handleConfirmPasswordChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleEmailChange(event){\r\n        event.preventDefault();\r\n        this.setState({email: event.target.value})\r\n    }\r\n\r\n    handleUsernameChange(event){\r\n        event.preventDefault();\r\n        this.setState({username: event.target.value})\r\n    }\r\n\r\n    handlePasswordChange(event){\r\n        event.preventDefault();\r\n        this.setState({password: event.target.value})\r\n    }\r\n\r\n    handleConfirmPasswordChange(event){\r\n        event.preventDefault();\r\n        this.setState({confirmPassword: event.target.value})\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        this.setState({loading: true})\r\n        if(this.passwordMatch(this.state.password, this.state.confirmPassword)){\r\n            doesEmailAlreadyExist(this.state.email).then(()=>{\r\n                this.doesUsernameAlreadyExist(this.state.username).then(()=>{\r\n                    this.setState({errorMessage: \"\"})\r\n                    var data = {\r\n                        email: this.state.email,\r\n                        username: this.state.username,\r\n                        password: this.state.password\r\n                    }\r\n                    axios.post('/addUser', data).then((response)=>{\r\n                        //Send Email\r\n                        var data = {\r\n                            email: this.state.email\r\n                        }\r\n                        \r\n                        axios.post('/sendWelcomeEmail', data).then((response)=>{\r\n                            //Redirect User to Home Page\r\n                            this.props.history.push({pathname: \"/\", state:{accountCreated: true}}) \r\n                        }).catch((exception)=>{\r\n                            //Something wrong with sending email, redirect user anyway\r\n                            this.props.history.push({pathname: \"/\", state:{accountCreated: true}}) \r\n                        });\r\n                    });\r\n                }).catch((error)=>{\r\n                    this.setState({errorMessage: error, loading: false})\r\n                })\r\n            }).catch((error)=>{\r\n                this.setState({errorMessage: error, loading: false})\r\n            })\r\n        } else {\r\n            this.setState({errorMessage: \"Error, passwords don't match\", loading: false})\r\n        }\r\n    }\r\n\r\n    passwordMatch(password1, password2){\r\n        if(password1 === password2){\r\n            return true;\r\n        } else{\r\n            return false\r\n        }\r\n    }\r\n\r\n    doesUsernameAlreadyExist(username){\r\n        return new Promise(function(resolve,reject){\r\n            var request = {\r\n                params:{\r\n                    username: username\r\n                }\r\n            }\r\n            axios.get('/getUsername', request).then((user)=>{\r\n                if(user.data.length === 0){\r\n                    resolve(false);\r\n                }\r\n                else{\r\n                    reject(\"Error, username already exists\");\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1 className=\"registerPageTitle\"> Register </h1>\r\n                <div className=\"centerDiv\">\r\n                    <Link to=\"/\" className=\"btn btn-primary\"> Back </Link>\r\n                </div>\r\n                <br />\r\n                <div className=\"container form-container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 d-flex justify-content-center\">\r\n                        <form onSubmit={this.handleSubmit}>\r\n                            <div className=\"form-group\">\r\n                            <label>Email address*</label>\r\n                                <input type=\"email\" className=\"form-control registerForm\" id=\"emailInput\" onChange={this.handleEmailChange} required maxLength=\"30\" />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                            <label>Username*</label>\r\n                                <input type=\"text\" className=\"form-control registerForm\" id=\"usernameInput\" onChange={this.handleUsernameChange} required  maxLength=\"20\" />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                            <label>Password*</label>\r\n                                <input type=\"password\" className=\"form-control registerForm\" id=\"passwordInput\" onChange={this.handlePasswordChange} required minLength=\"8\" maxLength=\"20\" />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                            <label>Confirm Password*</label>\r\n                                <input type=\"password\" className=\"form-control registerForm\" id=\"confirmPasswordInput\" onChange={this.handleConfirmPasswordChange} required minLength=\"8\" maxLength=\"20\" />\r\n                            </div>\r\n                            <p className=\"errorMessage\">{this.state.errorMessage}</p>\r\n                            <div className=\"registerButtonDiv\">\r\n                                <input type=\"submit\" id=\"registerButton\" className=\"btn btn-success\" value=\"Sign Up\"/>\r\n                            </div>\r\n                            <div className=\"sweet-loading\" style={{textAlign:\"center\", margin:\"0 auto\"}}>\r\n                                <BeatLoader\r\n                                size={15}\r\n                                margin={2}\r\n                                color={\"#123abc\"}\r\n                                loading={this.state.loading}\r\n                                />\r\n                            </div>\r\n                        </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default register;\r\n","import React, { Component } from 'react'\r\nimport {getIngredientsByRecepieId} from '../../utils/functions';\r\nimport '../../../styles/recipe/view-recipe/displayIngredients.css'\r\n\r\n\r\nclass DisplayIngredients extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            recipeId: this.props.recipeId,\r\n            ingredients: [],\r\n            errors: false,\r\n            errorMessage: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        getIngredientsByRecepieId(this.state.recipeId).then((response)=>{\r\n            this.setState({ingredients: response.data})\r\n        }).catch((exception) => {\r\n            this.setState({errors: true, errorMessage: exception})\r\n        });\r\n    }\r\n\r\n    render() {\r\n        var ingredients = this.state.ingredients.map((ingredient)=>{\r\n            return(\r\n                <div className=\"col-md-12 col-sm-12\" key={ingredient.Ingredient_Id}>\r\n                    <div className=\"ingredientListDiv card-text\">\r\n                        <p className=\"ingredientItemName\"><strong>{ingredient.Ingredient}:</strong></p> \r\n                        <p className=\"ingredientItemName\">&nbsp;{ingredient.Amount}</p>\r\n                        <p className=\"ingredientItemName\">&nbsp;{ingredient.Measurement_Name}</p>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"card\" style={{width: \"100%\"}}>\r\n                            <div className=\"card-body\">\r\n                                <h3 className=\"card-title\">Ingredients&nbsp;({this.state.ingredients.length})</h3>\r\n                                {ingredients}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DisplayIngredients;\r\n","import React, { Component } from 'react'\r\nimport {getProcedureByRecipeId} from '../../utils/functions'\r\nimport '../../../styles/recipe/view-recipe/displayProcedure.css'\r\n\r\nclass DisplayProcedure extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            recipeId: this.props.recipeId,\r\n            procedure: [],\r\n            errors: false,\r\n            errorMessage: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        getProcedureByRecipeId(this.state.recipeId).then((response)=>{\r\n            this.setState({procedure: response.data})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var procedure = this.state.procedure.map((procedure)=>{\r\n            return(\r\n                <div className=\"col-md-12 col-sm-12\" key={procedure.Procedure_Id}>\r\n                    <div className=\"procedureListDiv\">\r\n                        <p className=\"procedureItemName card-text\"><strong>{procedure.Order}:</strong> &nbsp;{procedure.Name} </p> \r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"card\" style={{width: \"100%\"}}>\r\n                            <div className=\"card-body\">\r\n                                <h3 className=\"card-title\">Procedure</h3>\r\n                                {procedure}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DisplayProcedure;\r\n","import React, { Component } from 'react'\r\nimport Navbar from '../../navbar/navbar'\r\nimport  { Redirect } from 'react-router-dom'\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\r\nimport {connect} from 'react-redux'\r\nimport {getAllUserRecipes} from '../../../actions/recipeActions';\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport {getIngredientsByRecepieId,getProcedureByRecipeId, getSavedRecipe} from '../../utils/functions'\r\nimport DisplayIngredients from './displayIngredients'\r\nimport CookingProcedure from './displayProcedure'\r\nimport imageKey from '../../../assets/images/secret_recipe_key.png'\r\nimport '../../../styles/recipe/view-recipe/viewRecipe.css'\r\n\r\nimport {getRecipeById, deleteRecipe} from '../../utils/functions';\r\nimport Axios from 'axios';\r\n\r\nclass ViewRecipe extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            userId: 0,\r\n            doesRecipeBelongToUser: false,\r\n            recipeId: this.props.match.params.recipeId,\r\n            recipe: {},\r\n            ingredients: [],\r\n            procedure: [],\r\n            savedRecipe: [],\r\n            savedRecipeLoaded: false,\r\n            errors: false,\r\n            errorMessage: \"\",\r\n            disableInput: false,\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) { \r\n        return{\r\n            userId: nextProps.userId,\r\n        }\r\n    } \r\n\r\n    componentDidMount(){\r\n        getRecipeById(this.state.recipeId).then((response)=>{\r\n            this.setState({recipe: response.data[0]})\r\n            this.doesRecipeBelongToUser();\r\n        }).catch((exception) => {\r\n            this.setState({errors: true, errorMessage: \"ERROR: Recipe Does Not Exist\"})\r\n            this.props.history.push('/Home')\r\n        });\r\n        getIngredientsByRecepieId(this.state.recipeId).then((response)=>{\r\n            console.log(response.data)\r\n            this.setState({ingredient: response.data})\r\n        }).catch((exception)=>{\r\n            this.setState({errors: true, errorMessage: \"ERROR: Ingredients Not Found\"})\r\n            this.props.history.push('/Home')\r\n        });\r\n        getProcedureByRecipeId(this.state.recipeId).then((response)=>{\r\n            this.setState({procedure: response.data})\r\n        });\r\n        getSavedRecipe(this.state.userId, this.state.recipeId).then((response)=>{\r\n            this.setState({savedRecipe: response.data, savedRecipeLoaded: true})\r\n        })\r\n    }\r\n    \r\n\r\n    doesRecipeBelongToUser(){\r\n        if(this.props.userId === this.state.recipe.User_Id_FK){\r\n            this.setState({doesRecipeBelongToUser: true})\r\n        } else {\r\n            this.setState({doesRecipeBelongToUser: false})\r\n        }\r\n    }\r\n\r\n    handleDeleteRecipe(){\r\n        confirmAlert({\r\n            title: 'Confirm',\r\n            message: 'Are you sure you want to delete this recipe?',\r\n            buttons: [\r\n              {\r\n                label: 'Yes',\r\n                onClick: () => deleteRecipe(this.state.recipeId).then((response)=>{\r\n                    this.props.getAllUserRecipes(this.props.userId);\r\n                    this.props.history.push({pathname: \"/Home\", state:{deletedRecipe: true}}) \r\n                })\r\n              },\r\n              {\r\n                label: 'No',\r\n                //onClick: () => alert('Click No')\r\n              }\r\n            ]\r\n          });\r\n    }\r\n\r\n    handleSaveRecipe = (event) => {\r\n        event.preventDefault();\r\n        this.setState({ disableInput: true})\r\n        var data = {\r\n            recipeId: this.state.recipeId,\r\n            userId: this.state.userId\r\n        }\r\n        axios.post('/saveRecipe', data).then((response)=>{\r\n            getSavedRecipe(this.state.userId, this.state.recipeId).then((response)=>{\r\n                this.props.getAllUserRecipes(this.props.userId);\r\n                this.setState({savedRecipe: response.data, savedRecipeLoaded: true, disableInput:false})\r\n            })\r\n        })\r\n    }\r\n\r\n    handleUnsaveRecipe = (event) => {\r\n        event.preventDefault();\r\n        var data = {\r\n            savedRecipeId: this.state.savedRecipe[0].Saved_Recipe_Id\r\n        }\r\n        axios.post('/unsaveRecipe', data).then((response)=>{\r\n            this.props.getAllUserRecipes(this.props.userId);\r\n            this.setState({savedRecipe: [], savedRecipeLoaded: true})\r\n        })\r\n    }\r\n\r\n    //Only display edit button if recipe is yours\r\n    displayEditButton(){\r\n        if(this.state.doesRecipeBelongToUser === true){\r\n            return <Link to={{pathname:\"/EditRecipe\", state:{editRecipe: true, recipe: this.state.recipe, ingredients: this.state.ingredient, procedure: this.state.procedure} }} className=\"btn btn-warning editRecipeButton\">Edit</Link>\r\n        }\r\n    }\r\n\r\n    displayDeleteButton(){\r\n        if(this.state.doesRecipeBelongToUser === true){\r\n            return <button className=\"btn btn-danger\" onClick={ () => this.handleDeleteRecipe() } >Delete</button>\r\n        }\r\n    }\r\n\r\n    displaySaveButton(){\r\n        if(this.state.doesRecipeBelongToUser === false && this.state.savedRecipeLoaded === true){\r\n                if(this.state.savedRecipe.length === 0){\r\n                    //Recipe is not saved\r\n                    return <button className=\"btn btn-success\" onClick={this.handleSaveRecipe} disabled={this.state.disableInput}>Save Recipe</button>\r\n                } else {\r\n                    //Recipe is saved\r\n                    return <button className=\"btn btn-primary unsaveRecipeBtn\" onClick={this.handleUnsaveRecipe}><span>&#10003; Saved</span></button>\r\n                }\r\n        }\r\n    }\r\n\r\n    displaySecretRecipeKey(){\r\n        if(this.state.recipe.Secret_Recipe === 1){\r\n            return <img width=\"35px\" src={imageKey} title=\"Secret Recipe\"/>\r\n        }\r\n    }\r\n\r\n    recipeEditedNotification(){\r\n        try{\r\n            if(this.props.location.state.editedRecipe === true){\r\n                return <p className=\"updateRecipeMessage\">{this.props.location.state.notification}</p>\r\n            }\r\n        } catch(e){}\r\n    }\r\n\r\n    render() {\r\n        var editButton = this.displayEditButton();\r\n        var deleteButton = this.displayDeleteButton();\r\n        var saveButton = this.displaySaveButton();\r\n        var recipeEditedNotification = this.recipeEditedNotification();\r\n        var keySymbol = this.displaySecretRecipeKey();\r\n\r\n        return (\r\n            <div>\r\n                <Navbar />\r\n                {recipeEditedNotification} \r\n                <div className=\"container viewRecipeTopDiv\">\r\n                    <h1 className=\"recipeTitle\">{this.state.recipe.Name} {keySymbol}</h1>\r\n                    <h5 className=\"recipeTitle\">{this.state.recipe.Cooking_Time} Minutes</h5>\r\n                    <h5 className=\"recipeTitle\">Servings: {this.state.recipe.Servings}</h5>\r\n                    {editButton}\r\n                    {deleteButton}\r\n                    {saveButton}\r\n                </div>\r\n                <div className=\"container\" >\r\n                    <div className=\"row\" style={{textAlign: \"center\"}}>\r\n                        <div className=\"col-md-6 col-sm-12\">\r\n                            <DisplayIngredients recipeId={this.state.recipeId}/> \r\n                        </div>\r\n                        <div className=\"col-md-6 col-sm-12\">\r\n                            <CookingProcedure recipeId={this.state.recipeId}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row justify-content-center descriptionDiv\" style={{marginTop: \"50px\"}}>\r\n                        <h4 className=\"col-md-12 col-sm-12\" style={{textAlign: \"center\"}}>Desciption</h4>\r\n                        <p className=\"recipeTitle col-12\" style={{fontSize:\"18px\"}}>{this.state.recipe.Description}</p>\r\n                    </div>\r\n                </div>               \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//map state to props to get state from redux and use in this component\r\nconst mapStateToProps = state => ({\r\n    userId: state.user.user[0].User_Id, // Enable when deployed\r\n  //  userId: 1  //disable when deployed\r\n})\r\n\r\nexport default connect(mapStateToProps, {getAllUserRecipes})(ViewRecipe);\r\n","import React, { Component } from 'react'\r\nimport Navbar from '../../navbar/navbar'\r\nimport  { Redirect } from 'react-router-dom'\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\r\nimport {connect} from 'react-redux'\r\nimport {getAllUserRecipes} from '../../../actions/recipeActions';\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport {getIngredientsByRecepieId,getProcedureByRecipeId, getSavedRecipe} from '../../utils/functions'\r\nimport DisplayIngredients from './displayIngredients'\r\nimport CookingProcedure from './displayProcedure'\r\nimport '../../../styles/recipe/view-recipe/viewRecipe.css'\r\n\r\nimport {getRecipeById, deleteRecipe} from '../../utils/functions';\r\nimport Axios from 'axios';\r\n\r\nclass ViewRecipe extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            userId: 1,\r\n            doesRecipeBelongToUser: false,\r\n            recipeId: this.props.match.params.recipeId,\r\n            recipe: {},\r\n            ingredients: [],\r\n            procedure: [],\r\n            savedRecipe: [],\r\n            savedRecipeLoaded: false,\r\n            errors: false,\r\n            errorMessage: \"\",\r\n            disableInput: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        getRecipeById(this.state.recipeId).then((response)=>{\r\n            this.setState({recipe: response.data[0]})\r\n        }).catch((exception) => {\r\n            this.setState({errors: true, errorMessage: \"ERROR: Recipe Does Not Exist\"})\r\n            this.props.history.push('/Home')\r\n        });\r\n        getIngredientsByRecepieId(this.state.recipeId).then((response)=>{\r\n            this.setState({ingredient: response.data})\r\n        }).catch((exception)=>{\r\n            this.setState({errors: true, errorMessage: \"ERROR: Ingredients Not Found\"})\r\n            this.props.history.push('/Home')\r\n        });\r\n        getProcedureByRecipeId(this.state.recipeId).then((response)=>{\r\n            this.setState({procedure: response.data})\r\n        });\r\n    }\r\n    \r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Navbar />\r\n                <div className=\"container viewRecipeTopDiv\">\r\n                    <h1 className=\"recipeTitle\">{this.state.recipe.Name} </h1>\r\n                    <h5 className=\"recipeTitle\">{this.state.recipe.Cooking_Time} Minutes</h5>\r\n                    <h5 className=\"recipeTitle\">Servings: {this.state.recipe.Servings}</h5>\r\n                    <Link className=\"btn btn-success viewButton\" to={\"/\"}>Save Recipe</Link> {/*Redirect to Home, not logged in*/}\r\n                </div>\r\n                <div className=\"container\" >\r\n                    <div className=\"row\" style={{textAlign: \"center\"}}>\r\n                        <div className=\"col-md-6 col-sm-12\">\r\n                            <DisplayIngredients recipeId={this.state.recipeId}/> \r\n                        </div>\r\n                        <div className=\"col-md-6 col-sm-12\">\r\n                            <CookingProcedure recipeId={this.state.recipeId}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row descriptionDiv\" style={{textAlign: \"center\", marginTop: \"50px\"}}>\r\n                        <h4 className=\"col-md-12 col-sm-12\">Desciption</h4>\r\n                        <p className=\"recipeTitle col-md-12 col-sm-12\" style={{fontSize:\"18px\"}}>{this.state.recipe.Description}</p>\r\n                    </div>\r\n                </div>               \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default (ViewRecipe);\r\n","import React, { Component } from 'react'\r\nimport '../../../styles/recipe/create-recipe/createRecipeForm.css'\r\nimport axios from 'axios';\r\nimport {connect} from 'react-redux'\r\nimport {getAllUserRecipes} from '../../../actions/recipeActions';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\r\nimport {insertIngredient, insertSteps, deleteAllIngredientsFromRecipe, deleteAllStepsFromRecipe} from '../../utils/functions'\r\n\r\nclass CreateRecipeForm extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            step1Display: true,  //Recipe details\r\n            step2Display: false, //Add ingredients\r\n            step3Display: false, //Add steps\r\n            step4Display: false, //Final Review Submit\r\n            pageTitle: \"Create Recipe\",\r\n            errorMsg: \"\",\r\n            inEditMode: false,\r\n            recipeId: null,  //Only used when editing a recipe\r\n            recipeName: \"\",\r\n            description: \"\",\r\n            cookingTime: \"\",\r\n            servings: 1,\r\n            secretRecipe: false, //Used for db interaction\r\n            secretRecipeDisplay: \"False\", //Recipes are not secret by default. Only used for display purposes\r\n            ingredients: [],  //Array of objects :> name: amount: measurement:\r\n            ingredientId: 1,\r\n            measurementOptions: [],\r\n            ingredientName: \"\",\r\n            ingredientAmount: \"\",\r\n            ingredientMeasurement: \"\",\r\n            ingredientMeasurementId: 1,  //Default Id is empty\r\n            stepsList: [],\r\n            cookingStep: \"\",\r\n            cookingStepId: 1, \r\n        }\r\n        this.handleRecipeChange = this.handleRecipeChange.bind(this);\r\n        this.handleDescriptionChange = this.handleDescriptionChange.bind(this);\r\n        this.handleCookingTimeChange = this.handleCookingTimeChange.bind(this);\r\n        this.addIngredientToList = this.addIngredientToList.bind(this);\r\n        this.handleIngredientChange = this.handleIngredientChange.bind(this);\r\n        this.handleAmountChange = this.handleAmountChange.bind(this);\r\n        this.handleMeasurementChange = this.handleMeasurementChange.bind(this);\r\n        this.removeIngredientFromList = this.removeIngredientFromList.bind(this);\r\n        this.handleDCookingStepsChange = this.handleDCookingStepsChange.bind(this);\r\n        this.addStepsToList = this.addStepsToList.bind(this);\r\n        this.removeStepFromList = this.removeStepFromList.bind(this);\r\n        this.createRecipe = this.createRecipe.bind(this);\r\n        this.updateRecipe = this.updateRecipe.bind(this)\r\n        this.handleExitEditing = this.handleExitEditing.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.setStateInEditMode();\r\n        axios.get('/getMeasurementOptions').then((response)=>{\r\n            this.setState({measurementOptions: response.data})\r\n        })\r\n    }\r\n\r\n    //Function sets state using redux props if we are editing an existing recipe\r\n    setStateInEditMode(){\r\n        try{\r\n            if(this.props.location.state.editRecipe === true){\r\n                var ingredientArray = [];\r\n                var stepsArray = [];\r\n                //Add Ingredients to array\r\n                this.props.location.state.ingredients.map(data => {\r\n                    var ingredient = {Ingredient: data.Ingredient, Amount: data.Amount, Measurement: data.Measurement_Name, MeasurementId: data.Measurement_Id, id: ingredientArray.length + 1};\r\n                    ingredientArray.push(ingredient)\r\n                })\r\n                //Add Cooking Steps to array\r\n                this.props.location.state.procedure.map(data => {\r\n                    var step = {id: stepsArray.length + 1, description: data.Name}\r\n                    stepsArray.push(step)\r\n                })\r\n                //Set Recipe details, ingredients, cooking steps to state\r\n                this.setState({\r\n                    pageTitle: \"Edit Recipe\",\r\n                    inEditMode: true,\r\n                    recipeId: this.props.location.state.recipe.Recipe_Id,\r\n                    recipeName: this.props.location.state.recipe.Name,\r\n                    description: this.props.location.state.recipe.Description,\r\n                    cookingTime: this.props.location.state.recipe.Cooking_Time,\r\n                    servings: this.props.location.state.recipe.Servings,\r\n                    ingredients: ingredientArray,\r\n                    stepsList: stepsArray,\r\n                    cookingStepId: stepsArray.length + 1,\r\n                    ingredientId: ingredientArray.length + 1\r\n                })\r\n                //Check if recipe is a secret or not and set to state\r\n                if(this.props.location.state.recipe.Secret_Recipe === 1){\r\n                    this.setState({secretRecipe: true, secretRecipeDisplay: \"True\"})\r\n                } else {\r\n                    this.setState({secretRecipe: false, secretRecipeDisplay: \"False\"})\r\n                }\r\n            }\r\n        } catch(e){}\r\n    }\r\n\r\n    handleRecipeChange(event){\r\n        event.preventDefault();\r\n        this.setState({recipeName: event.target.value});\r\n    }\r\n\r\n    handleDescriptionChange(event){\r\n        event.preventDefault();\r\n        this.setState({description: event.target.value});\r\n    }\r\n\r\n    handleCookingTimeChange(event){\r\n        event.preventDefault();\r\n        this.setState({cookingTime: event.target.value});\r\n    }\r\n\r\n    handleServingsChange = event => {\r\n        event.preventDefault();\r\n        this.setState({servings: event.target.value});\r\n    }\r\n\r\n    handleSecretRecipeChange = event => {\r\n        //Manually set because dropdown converts True/False to string\r\n        if(event.target.value === \"True\"){\r\n            this.setState({secretRecipe: true, secretRecipeDisplay: event.target.value})\r\n        } else {\r\n            this.setState({secretRecipe: false, secretRecipeDisplay: event.target.value})\r\n        }\r\n    }\r\n\r\n    handleIngredientChange(event){\r\n        event.preventDefault();\r\n        this.setState({ingredientName: event.target.value});\r\n    }\r\n\r\n    handleAmountChange(event){\r\n        event.preventDefault();\r\n        this.setState({ingredientAmount: event.target.value});\r\n    }\r\n\r\n    handleMeasurementChange(event){\r\n        event.preventDefault();\r\n        //Set meaurement id\r\n        this.setState({ingredientMeasurementId: event.target.value});\r\n        //Set measurement name\r\n        this.state.measurementOptions.map(ingredient => {\r\n            if(ingredient.Measurement_Id == event.target.value){\r\n                this.setState({ingredientMeasurement: ingredient.Name})\r\n            }\r\n        })\r\n    }\r\n\r\n    handleDCookingStepsChange(event){\r\n        event.preventDefault();\r\n        this.setState({cookingStep: event.target.value});\r\n    }\r\n\r\n    handleExitEditing(){\r\n        this.props.history.push({pathname: \"/ViewRecipe/\"+(this.state.recipeId)}) \r\n    }\r\n\r\n    //Insert recipe detail, then ingredients, then steps\r\n    createRecipe(event){\r\n        event.preventDefault();\r\n        var recipeId;\r\n\r\n        var recipeDetail = {\r\n            userId: this.props.userId,\r\n            recipeName: this.state.recipeName,\r\n            description: this.state.description,\r\n            cookingTime: this.state.cookingTime,\r\n            servings: this.state.servings,\r\n            secretRecipe: this.state.secretRecipe\r\n        }\r\n        axios.post('/createRecipe', recipeDetail).then((response)=>{   //response.data.insertId holds id of inserted recipe\r\n            recipeId = response.data.insertId;\r\n            insertIngredient(recipeId, this.state.ingredients).then(()=>{\r\n                insertSteps(recipeId, this.state.stepsList).then(()=>{\r\n                    this.props.getAllUserRecipes(this.props.userId);\r\n                    this.props.history.push({pathname: \"/ViewRecipe/\"+(recipeId)}) \r\n                })\r\n            })  \r\n        }).catch((err)=>{\r\n            this.setState({errorMsg: \"There was an error creating your Recipe\"})\r\n        })\r\n    }\r\n\r\n    updateRecipe(event){\r\n        event.preventDefault();\r\n        var recipeId = this.state.recipeId;\r\n        var recipeDetail = {\r\n            userId: this.props.userId,\r\n            recipeId: recipeId,\r\n            recipeName: this.state.recipeName,\r\n            description: this.state.description,\r\n            cookingTime: this.state.cookingTime,\r\n            servings: this.state.servings,\r\n            secretRecipe: this.state.secretRecipe\r\n        }\r\n\r\n        confirmAlert({\r\n            title: 'Confirm',\r\n            message: 'Are you sure you want to update this recipe?',\r\n            buttons: [\r\n                {\r\n                label: 'Yes',\r\n                onClick: () => \r\n                axios.post('/updateRecipe', recipeDetail).then((response)=>{\r\n                    deleteAllIngredientsFromRecipe(recipeId).then(()=>{\r\n                        deleteAllStepsFromRecipe(recipeId).then(()=>{\r\n                            insertIngredient(recipeId, this.state.ingredients).then(()=>{\r\n                                insertSteps(recipeId, this.state.stepsList).then(()=>{\r\n                                    this.props.getAllUserRecipes(this.props.userId);\r\n                                    this.props.history.push({pathname: \"/ViewRecipe/\"+(recipeId), state:{editedRecipe: true, notification:\"Successfully Updated Recipe\"}}) \r\n                                })\r\n                            })\r\n                        })\r\n                    })\r\n                }).catch((err)=>{\r\n                    this.setState({errorMsg: \"There was an error updating your Recipe\"})\r\n                })\r\n                },\r\n                {\r\n                label: 'No',\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n    addIngredientToList(event){\r\n        event.preventDefault();\r\n        var name = this.state.ingredientName;\r\n        var amount = this.state.ingredientAmount;\r\n        var measurement = this.state.ingredientMeasurement;\r\n        var measurementId = this.state.ingredientMeasurementId;\r\n        var id = this.state.ingredientId + 1;\r\n\r\n        var ingredient = {Ingredient: name, Amount: amount, Measurement: measurement, MeasurementId: measurementId, id: id};\r\n        let ingredients = [...this.state.ingredients, ingredient];\r\n\r\n        this.setState({ingredients: ingredients, ingredientName:\"\", ingredientAmount: \"\", ingredientId: this.state.ingredientId + 1})\r\n    }\r\n\r\n    removeIngredientFromList(ingredientId){\r\n        this.setState({ingredients: this.state.ingredients.filter(function(item) { \r\n            return item.id !== ingredientId\r\n        })})\r\n    }\r\n\r\n    //Function displays the ingredients the user has added to the recipe and can delete them\r\n    displayIngredients(){\r\n        if(this.state.ingredients.length > 0){\r\n            const list = this.state.ingredients.map(ingredient => {\r\n                return(\r\n                    <div key={ingredient.id}>\r\n                        <div className=\"ingredientsList\">\r\n                            <button onClick={this.removeIngredientFromList.bind(this, ingredient.id)} className=\"btn-xs btn-danger removeItemButton\">X</button>\r\n                            &nbsp;&nbsp;<p className=\"ingredientListItem\" ><strong>{ingredient.Ingredient}:</strong> {ingredient.Amount} {ingredient.Measurement}</p>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })\r\n            return list\r\n        }  else {\r\n            return <p style={{textAlign:\"center\"}}>Empty...</p>\r\n        }\r\n    }\r\n\r\n    addStepsToList(event){\r\n        event.preventDefault();\r\n        var step = {id: this.state.cookingStepId + 1, description: this.state.cookingStep}\r\n        let cookingStep = [...this.state.stepsList, step];\r\n        this.setState({stepsList: cookingStep, cookingStep: \"\", cookingStepId: this.state.cookingStepId + 1})\r\n    }\r\n\r\n    removeStepFromList(stepId){\r\n        this.setState({stepsList: this.state.stepsList.filter(function(item) { \r\n            return item.id !== stepId\r\n        })})\r\n    }\r\n\r\n    displaySteps(){\r\n        if(this.state.stepsList.length > 0){\r\n            const list = this.state.stepsList.map(step => {\r\n                return(\r\n                    <div key={step.order}>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-lg-8\">\r\n                                <div className=\"stepListItem\">\r\n                                    <button onClick={this.removeStepFromList.bind(this, step.id)} className=\"btn-xs btn-danger removeItemButton\">X</button>\r\n                                    &nbsp;\t&nbsp;<p className=\"createRecipeForm-displayCookingSteps\">{step.description}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })\r\n            return list\r\n        } else {\r\n            return <p>Empty...</p>\r\n        }\r\n    }\r\n\r\n    //Handles which part of form to display (4 parts)\r\n    changeFormStep(step){\r\n        if(this.isFormStageComplete(step - 1)){\r\n            if(step === 1){\r\n                this.setState({step1Display: true, step2Display: false, step3Display: false, step4Display: false, errorMsg:\"\"})\r\n            } else if(step === 2){\r\n                this.setState({step1Display: false, step2Display: true, step3Display: false, step4Display: false, errorMsg:\"\"}) \r\n            } else if(step === 3){\r\n                this.setState({step1Display: false, step2Display: false, step3Display: true, step4Display: false, errorMsg:\"\"})\r\n            } else if (step === 4){\r\n                this.setState({step1Display: false, step2Display: false, step3Display: false, step4Display: true, errorMsg:\"\"})\r\n            }\r\n        }\r\n    }\r\n\r\n    //Function makes sure required fields have data before progressing to next stage of form\r\n    isFormStageComplete(step){\r\n        if(step === 1){\r\n            if(this.state.recipeName.length === 0){\r\n                this.setState({errorMsg: \"Add Recipe Name\"})\r\n                return false;\r\n            } else if(this.state.cookingTime.length === 0 || this.state.cookingTime < 1 || this.state.cookingTime > 9999){\r\n                this.setState({errorMsg: \"Add Cooking Time (1-9999)\"})\r\n                return false;\r\n            } else if (this.state.servings < 1 || this.state.servings > 9999){\r\n                this.setState({errorMsg: \"Add Servings (1-9999)\"})\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n        else if(step === 2){\r\n            if(this.state.ingredients.length === 0){\r\n                this.setState({errorMsg: \"Add at least 1 Ingredient\"});\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n        else{\r\n            return true;\r\n        }\r\n    }\r\n\r\n    //Recipe Details\r\n    renderStep1(){\r\n        if(this.state.step1Display == true){\r\n            return(\r\n                <div className=\"formStep1\">\r\n                    <h5 style={{textAlign:\"center\"}}>Step 1/4: Recipe Details</h5>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"hidden\" className=\"form-control\" value={this.props.userId}/> \r\n                    </div>\r\n                    <div className=\"createRecipeDiv\">\r\n                        <button className=\"btn btn-success\" onClick={ () => this.changeFormStep(2) }>Add Ingredients</button> \r\n                    </div> <br />\r\n\r\n                    <p className=\"errMsg\">{this.state.errorMsg}</p>\r\n\r\n                    <div className=\"container\">\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"form-group col-lg-5 col-md-8 col-sm-12\">\r\n                                <label>Recipe Name<span className=\"formRequired\">*</span></label>\r\n                                    <input type=\"text\" className=\"form-control\" onChange={this.handleRecipeChange} value={this.state.recipeName} placeholder=\"Recipe\" maxLength=\"30\" required /> \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"form-group col-lg-5 col-md-8  col-sm-12\">\r\n                            <label>Cooking Time (In Minutes)<span className=\"formRequired\">*</span></label>\r\n                                <input type=\"number\" className=\"form-control\" pattern=\"[0-9]\" onChange={this.handleCookingTimeChange} value={this.state.cookingTime} placeholder=\"60\" min=\"1\" max=\"9999\" required /> \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"form-group col-lg-5 col-md-8  col-sm-12\">\r\n                            <label>Servings<span className=\"formRequired\">*</span></label>\r\n                                <input type=\"number\" className=\"form-control\" pattern=\"[0-9]\" onChange={this.handleServingsChange} value={this.state.servings} placeholder=\"1\" min=\"1\" max=\"9999\" required /> \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"form-group col-lg-5 col-md-8  col-sm-12\">\r\n                            <label>Secret Recipe<span className=\"formRequired\">*</span></label> <br />\r\n                                <select className=\"form-control\" value={this.state.secretRecipeDisplay} onChange={this.handleSecretRecipeChange}>\r\n                                    <option>False</option>\r\n                                    <option>True</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"form-group col-lg-5 col-md-8  col-sm-12\">\r\n                            <label>Description</label>\r\n                                <textarea rows=\"4\" type=\"text\" className=\"form-control\" onChange={this.handleDescriptionChange} value={this.state.description} placeholder=\"200 Characters or less\" maxLength=\"200\"></textarea>\r\n                            </div> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    //Recipe Ingredients\r\n    renderStep2(){\r\n        var ingredientsAdded = this.displayIngredients();\r\n\r\n        if(this.state.step2Display == true){\r\n            return(\r\n                <div>\r\n                    <h5 style={{textAlign:\"center\", marginBottom:\"20px\"}}>Step 2/4: Add Ingredients</h5>\r\n\r\n                    <div className=\"createRecipeIngredientsDiv\">\r\n                        <button className=\"btn btn-warning formBackButton\" onClick={ () => this.changeFormStep(1) }>Back</button> \r\n                        <button className=\"btn btn-success\" onClick={ () => this.changeFormStep(3) }>Add Steps</button> \r\n                    </div>\r\n\r\n                    <p className=\"errMsg\">{this.state.errorMsg}</p>\r\n\r\n                    <form className=\"formStep2\" onSubmit={this.addIngredientToList}>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"form-group col-lg-4 col-md-4 col-sm-12\">\r\n                                    <label>Ingredient</label>\r\n                                    <input type=\"text\" className=\"form-control\" onChange={this.handleIngredientChange} value={this.state.ingredientName} maxLength=\"30\" required /> \r\n                                </div>\r\n                                <div className=\"form-group col-lg-3 col-md-2 col-sm-12\">\r\n                                    <label>Amount</label>\r\n                                    <input type=\"number\" className=\"form-control\" onChange={this.handleAmountChange} placeholder=\"0\" value={this.state.ingredientAmount}  min=\"1\" max=\"9999\" required /> \r\n                                </div>\r\n                                <div className=\"form-group col-lg-3 col-md-3 col-sm-12\">\r\n                                    <label>Measurement</label>\r\n                                    <select className=\"form-control\" onChange={this.handleMeasurementChange}>\r\n                                        {this.state.measurementOptions.map((measurement) => \r\n                                            <option value={measurement.Measurement_Id} key={measurement.Measurement_Id}>\r\n                                                {measurement.Name}\r\n                                            </option>\r\n                                        )}\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group col-lg-1 col-md-2 col-sm-12\">\r\n                                    <label>Add</label> <br />\r\n                                    <input type=\"submit\" style={{minWidth: \"100%\"}} className=\"btn btn-success form-control\" value=\"+\"/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n\r\n                    {/*Display ingredients added so far */}\r\n                    <div className=\"ingredientsAddedDiv\">\r\n                        <h4 className=\"createRecipeForm-ingredientsAddedTitle\">Ingredients List for {this.state.recipeName}</h4>\r\n                        <div className=\"subIngredientsAddedDiv\">\r\n                            {ingredientsAdded}\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    //Recipe Steps\r\n    renderStep3(){\r\n        var stepsList = this.displaySteps();\r\n\r\n        if(this.state.step3Display == true){\r\n            return(\r\n                <div>\r\n                    <h5 style={{textAlign:\"center\", marginBottom:\"20px\"}}>Step 3/4: Add Steps (optional)</h5>\r\n                    <div className=\"createRecipeIngredientsDiv\">\r\n                        <button className=\"btn btn-warning formBackButton\" onClick={ () => this.changeFormStep(2) }>Back</button> \r\n                        <button className=\"btn btn-success\" onClick={ () => this.changeFormStep(4) }>Finalize</button> \r\n                    </div>\r\n\r\n                    <form onSubmit={this.addStepsToList}>\r\n                        <div className=\"container\">\r\n                            <div className=\"row justify-content-center\">\r\n                                <div className=\"form-group col-lg-5 col-sm-12\">\r\n                                    <label>Step</label>\r\n                                    <textarea className=\"form-control\" onChange={this.handleDCookingStepsChange} rows=\"3\" value={this.state.cookingStep} placeholder=\"Ex: Dice Onions thinly...\" maxLength=\"500\" required></textarea>                                \r\n                                </div>\r\n                                <div className=\"form-group col-lg-1 col-sm-12\">\r\n                                    <label>Add</label> <br />\r\n                                    <input type=\"submit\" className=\"btn btn-success form-control\" value=\"+\"/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n\r\n                    {/*Display ingredients added so far */}\r\n                    <div className=\"container stepsAddedDiv\">\r\n                        <div className=\"row justify-content-center\">\r\n                            <h4>Steps List</h4>\r\n                        </div>\r\n                            {stepsList}\r\n                    </div>\r\n\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    //Displays either create recipe or update recipe\r\n    renderCompletionForm(){\r\n        if(this.state.inEditMode === true){\r\n            return(\r\n                <form onSubmit={this.updateRecipe}>\r\n                    <button className=\"btn btn-warning formBackButton\" onClick={ () => this.changeFormStep(3) }>Back</button> \r\n                    <input type=\"submit\" className=\"btn btn-success createRecipeButton\" value=\"Update\" />\r\n                </form>\r\n            )\r\n        } else{\r\n            return(\r\n                <form onSubmit={this.createRecipe}>\r\n                    <button className=\"btn btn-warning formBackButton\" onClick={ () => this.changeFormStep(3) }>Back</button> \r\n                    <input type=\"submit\" className=\"btn btn-success createRecipeButton\" value=\"Create\" />\r\n                </form>\r\n            )\r\n        }\r\n    }\r\n\r\n    //DIsplay all recipe details and submit\r\n    renderStep4(){\r\n        var renderCompletionForm = this.renderCompletionForm();\r\n\r\n        const ingredientList = this.state.ingredients.map(ingredient => {\r\n            return(\r\n                <div key={ingredient.id}>\r\n                    <div className=\"ingredientsList\">\r\n                        <p className=\"ingredientListItem2\" >- {ingredient.Ingredient}: {ingredient.Amount} {ingredient.Measurement}</p>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n\r\n        const stepList = this.state.stepsList.map(step => {\r\n            return(\r\n                <div key={step.order}>\r\n                    <div className=\"stepListItem\">\r\n                        <p className=\"\">- {step.description}</p>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n\r\n        if(this.state.step4Display == true){\r\n            return(\r\n                <div>\r\n                    <h5 style={{textAlign:\"center\", marginBottom:\"20px\"}}>Step 4/4: Review</h5>\r\n                    <div className=\"createRecipeIngredientsDiv\">\r\n                        {renderCompletionForm} \r\n                    </div>\r\n\r\n                    <div className=\"container\">\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-lg-12 createRecipeForm-review\">\r\n                                <h5 className=\"inline-block\">Recipe Name:</h5> &nbsp; <h5 className=\"notBold inline-block\"> {this.state.recipeName}</h5>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-lg-12 createRecipeForm-review\">\r\n                                <h5 className=\"inline-block\">Description:</h5> &nbsp; <h5 className=\"notBold inline-block\"> {this.state.description}</h5>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-lg-12 createRecipeForm-review\">\r\n                                <h5 className=\"inline-block\">Cooking Time: </h5> &nbsp; <h5 className=\"notBold inline-block\"> {this.state.cookingTime} Minute(s)</h5>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-lg-12 createRecipeForm-review\">\r\n                                <h5 className=\"inline-block\">Servings: </h5> &nbsp; <h5 className=\" notBold inline-block\"> {this.state.servings} </h5>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-lg-12 createRecipeForm-review\">\r\n                                <h5 className=\"inline-block\">Secret Recipe: </h5> &nbsp; <h5 className=\"notBold inline-block\"> {this.state.secretRecipeDisplay}</h5>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-lg-12 createRecipeForm-review\">\r\n                                <h5>Ingredients ({this.state.ingredients.length}):</h5><h5 className=\"notBold\"> {ingredientList}</h5>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-lg-12 createRecipeForm-review\">\r\n                                <h5>Steps ({this.state.stepsList.length}):</h5><h5 className=\"notBold createRecipeForm-displayCookingSteps\"> {stepList}</h5>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    renderExitButon(){\r\n        if(this.state.inEditMode === true){\r\n            return <button class=\"btn btn-danger\" onClick={ () => this.handleExitEditing() }>Exit</button>\r\n        } else {\r\n            return <span></span>\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const step1 = this.renderStep1(); //Recipe Details\r\n        const step2 = this.renderStep2(); //Add Ingredients\r\n        const step3 = this.renderStep3(); //Add Steps\r\n        const step4 = this.renderStep4(); //Final Review Submit\r\n        var exitEditingButton = this.renderExitButon();\r\n\r\n        return (\r\n            <div>\r\n                <h1 style={{textAlign:\"center\"}}>{this.state.pageTitle} {exitEditingButton} </h1>\r\n                {step1}\r\n                {step2}\r\n                {step3}\r\n                {step4}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//map state to props to get state from redux and use in this component\r\nconst mapStateToProps = state => ({\r\n    recipe: state.recipe.recipes\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {getAllUserRecipes})(withRouter(CreateRecipeForm));","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport Navbar from '../../navbar/navbar'\r\nimport CreateRecipeForm from './createRecipeForm'\r\n\r\nclass CreateRecipe extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            userId: \"\" //Set this to \"\" when deployed\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.user.map((user)=>{\r\n           this.setState({userId: user.User_Id})\r\n        })\r\n    } \r\n\r\n    render() {    \r\n        if (!this.state.userId){\r\n            return <div>Loading...</div>\r\n        }\r\n        return (\r\n            <div>\r\n                <Navbar />\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 justify-content-center\">\r\n                            <CreateRecipeForm userId={this.state.userId}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//map state to props to get state from redux and use in this component\r\nconst mapStateToProps = state => ({\r\n    user: state.user.user,\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps)(CreateRecipe);","import React, { Component } from 'react'\r\nimport {doesEmailExist} from '../../utils/functions'\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport axios from 'axios';\r\n\r\nexport default class EmailVerification extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            errMsg: \"\",\r\n            loading: false,\r\n            disableInput: false\r\n        }\r\n        this.handleEmailChange = this.handleEmailChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleEmailChange(event){\r\n        event.preventDefault();\r\n        this.setState({email: event.target.value})\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        this.setState({loading: true, disableInput: true})\r\n        var verificationCode = Math.floor(100000 + Math.random() * 900000) //Create random code\r\n        \r\n        doesEmailExist(this.state.email).then((response)=>{\r\n            var data = {\r\n                email: this.state.email\r\n            }\r\n            //Delete any existing Verification Code for user\r\n            axios.post('/deleteEmailVerificationCodeByEmail', data).then((response)=>{\r\n                var data = {\r\n                    email: this.state.email,\r\n                    verificationCode: verificationCode\r\n                }\r\n                //Create a verification code \r\n                axios.post('/createEmailVerificationCode', data).then((response)=>{\r\n                    var data = {\r\n                        email: this.state.email,\r\n                        verificationCode: verificationCode\r\n                    }\r\n                    //Email it to user\r\n                    axios.post('/sendEmailVerificationCode', data).then((response)=>{\r\n                        this.setState({loading: false, errMsg: \"\"})\r\n                        this.props.setEmailAndVerification(this.state.email, verificationCode)\r\n                        this.props.hideEmailForm();\r\n                        this.props.showVerificationForm();\r\n                    })\r\n                })\r\n            })\r\n        }).catch((exception)=>{\r\n            this.setState({errMsg: \"Error, this email is not assigned to any account\", loading: false, disableInput: false})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h6 style={{textAlign: \"center\", color:\"red\"}}>{this.state.errMsg}</h6>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Enter your Email Address</label>\r\n                        <input type=\"email\" className=\"form-control registerForm\" id=\"emailInput\" onChange={this.handleEmailChange} required maxLength=\"30\" />\r\n                    </div>\r\n                    <div className=\"registerButtonDiv\">\r\n                        <input type=\"submit\" id=\"resetPasswordBtn\" className=\"btn btn-warning\" disabled={this.state.disableInput} value=\"Reset Password\"/>\r\n                    </div>\r\n                    <div className=\"sweet-loading\" style={{textAlign:\"center\", margin:\"0 auto\"}}>\r\n                        <BeatLoader\r\n                        size={15}\r\n                        margin={2}\r\n                        color={\"#123abc\"}\r\n                        loading={this.state.loading}\r\n                        />\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nclass VerificationCode extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            errMsg: \"\",\r\n            loading: false,\r\n            verificationCode: \"\",\r\n            disableInput: false,\r\n            maxAttempts: 0,\r\n        }\r\n        this.handleCodeChange = this.handleCodeChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleCodeChange(event){\r\n        event.preventDefault();\r\n        this.setState({verificationCode: event.target.value});\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        if(this.state.verificationCode == this.props.verificationCode){\r\n            this.props.hideVerificationForm();\r\n            this.props.showNewPassword();\r\n        } else {\r\n            this.setState({errMsg: \"Verification Code doesn't match\", maxAttempts: this.state.maxAttempts + 1})\r\n            this.checkMaxAttempts();\r\n        }\r\n    }\r\n\r\n    checkMaxAttempts(){\r\n        if (this.state.maxAttempts >= 2){\r\n            this.setState({errMsg: \"Maximum attemps reached. Go back and try again\", disableInput: true})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h6>A Verification code has been sent to your email</h6>\r\n                <br />\r\n                <h6 style={{textAlign: \"center\", color:\"red\"}}>{this.state.errMsg}</h6>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                    <label>Enter Code</label>  <label style={{float:\"right\"}}>Attempt {this.state.maxAttempts}/3</label> \r\n                        <input type=\"number\" className=\"form-control\" disabled={this.state.disableInput} max=\"9999999999\" min=\"1\" onChange={this.handleCodeChange} required/>\r\n                    </div>\r\n                    <div className=\"registerButtonDiv\">\r\n                        <input type=\"submit\" id=\"resetPasswordBtn\" disabled={this.state.disableInput}  className=\"btn btn-success\" value=\"Enter\"/>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default VerificationCode;\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport {updatePasswordByEmail} from '../../utils/functions'\r\n\r\nclass NewPassword extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            errMsg: \"\",\r\n            password: \"\",\r\n            confirmPassword: \"\"\r\n        }\r\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n        this.handleConfirmPasswordChange = this.handleConfirmPasswordChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    \r\n    handlePasswordChange(event){\r\n        event.preventDefault();\r\n        this.setState({password: event.target.value});\r\n    }\r\n\r\n    handleConfirmPasswordChange(event){\r\n        event.preventDefault();\r\n        this.setState({confirmPassword: event.target.value})\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        if(this.state.password === this.state.confirmPassword){\r\n            updatePasswordByEmail(this.props.email, this.state.password).then((response)=>{\r\n                this.props.history.push({pathname: \"/\", state:{updatedPassword: true}}) \r\n            }).catch((exception)=>{\r\n                this.setState({errMsg: \"Server error. Unable to update password\"})\r\n            })\r\n            this.setState({errMsg: \"\"})\r\n\r\n        } else {\r\n            this.setState({errMsg: \"Error, password don't match\"})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h6>Create your new password</h6>\r\n                <br />\r\n                <h6 style={{textAlign: \"center\", color:\"red\"}}>{this.state.errMsg}</h6>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>New Password</label>\r\n                        <input type=\"password\" className=\"form-control\" minLength=\"8\" maxLength=\"20\" onChange={this.handlePasswordChange} required/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Confirm Password</label>\r\n                        <input type=\"password\" className=\"form-control\" minLength=\"8\" maxLength=\"20\" onChange={this.handleConfirmPasswordChange} required/>\r\n                    </div>\r\n                    <div className=\"registerButtonDiv\">\r\n                        <input type=\"submit\" id=\"resetPasswordBtn\"  className=\"btn btn-success\" value=\"Submit\"/>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(NewPassword);","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport EmailVerification from './emailVerification'\r\nimport VerificationCode from './verificationCode'\r\nimport NewPassword from './newPassword'\r\n\r\nclass ResetPassword extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            displayEmailForm: true,\r\n            displayVerificationForm: false,\r\n            displayNewPasswordForm: false,\r\n            email: \"\",\r\n            verificationCode: \"\"\r\n        }  \r\n        this.hideEmailForm = this.hideEmailForm.bind(this); \r\n        this.showVerificationForm = this.showVerificationForm.bind(this);\r\n        this.setEmailAndVerification = this.setEmailAndVerification.bind(this);\r\n        this.hideVerificationForm = this.hideVerificationForm.bind(this);\r\n        this.showNewPasswordForm = this.showNewPasswordForm.bind(this);\r\n    }\r\n\r\n    hideEmailForm(){\r\n        this.setState({displayEmailForm: false})\r\n    }\r\n\r\n    hideVerificationForm(){\r\n        this.setState({displayVerificationForm: false})\r\n    }\r\n\r\n    hideNewPasswordForm(){\r\n        this.setState({displayNewPasswordForm: false})\r\n    }\r\n\r\n    showVerificationForm(){\r\n        this.setState({displayVerificationForm: true})\r\n    }\r\n\r\n    showNewPasswordForm(){\r\n        this.setState({displayNewPasswordForm: true})\r\n    }\r\n\r\n    setEmailAndVerification(email, verificationCode){\r\n        this.setState({email: email, verificationCode: verificationCode})\r\n    }\r\n\r\n    render() {\r\n        function DisplayEmailVerification(props){\r\n            if(props.display === true){\r\n                return <EmailVerification hideEmailForm={props.hideEmail} showVerificationForm={props.showVerification} setEmailAndVerification={props.setEmailAndVerification} />\r\n            } else {return <span></span>}\r\n        }\r\n\r\n        function DisplayVerificationCode(props){\r\n            if(props.display === true){\r\n                return <VerificationCode email={props.email} verificationCode={props.verificationCode} hideVerificationForm={props.hideVerification} showNewPassword={props.showNewPassword}/>\r\n            } else {return <span></span>}\r\n        }\r\n\r\n        function DisplayNewPassword(props){\r\n            if(props.display === true){\r\n                return <NewPassword email={props.email}/>\r\n            } else {return <span></span>}\r\n        }\r\n        \r\n        return (\r\n            <div>\r\n                <h1 className=\"registerPageTitle\"> Reset Password </h1>\r\n                <div className=\"centerDiv\">\r\n                    <Link to=\"/\" className=\"btn btn-primary\"> Back </Link>\r\n                </div> <br /> <br />\r\n                <div className=\"container form-container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 d-flex justify-content-center\">\r\n                            <DisplayEmailVerification display={this.state.displayEmailForm} hideEmail={this.hideEmailForm} showVerification={this.showVerificationForm} setEmailAndVerification={this.setEmailAndVerification}/>\r\n                            <DisplayVerificationCode display={this.state.displayVerificationForm} hideVerification={this.hideVerificationForm} showNewPassword={this.showNewPasswordForm} email={this.state.email} verificationCode={this.state.verificationCode}/>\r\n                            <DisplayNewPassword display={this.state.displayNewPasswordForm} email={this.state.email}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ResetPassword\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios';\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\n\r\nclass AdvancedSearch extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            recipeSearch: \"\",\r\n            ingredientsList: [], //Array of object: Id, Ingredient\r\n            recipeResults: [], //Results from search stored in array\r\n            ingredient: \"\",\r\n            ingredientId: 1,\r\n            displayAddIngredients: false,\r\n            displayRecipeSearch: true,\r\n            loading: false,\r\n            errMsg: \"\"\r\n        }\r\n    }\r\n\r\n    //Results are sent to parent component\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        this.props.setRecipesLoaded(false);\r\n        this.setState({loading: true}) //Display loading spinner\r\n\r\n        var searchDetails = {\r\n            params:{\r\n                userId: this.props.userId,\r\n                recipeName: this.state.recipeSearch,\r\n                ingredientsList: this.state.ingredientsList.map((data)=>{return data.Ingredient})  //Only need ingredient name\r\n            }\r\n        }\r\n\r\n      /*  if(this.state.ingredientsList.length === 0 && this.state.recipeSearch.length === 0){\r\n            this.setState({errMsg: \"Please add Ingredients or Recipe Name\"})\r\n        } else { */\r\n            if(this.state.ingredientsList.length > 0 && this.state.recipeSearch != \"\"){\r\n                //Search by ingredients and recipe name\r\n                axios.get('/searchForRecipebyNameAndIngredients', searchDetails).then((results)=>{\r\n                    this.props.setRecipes(results.data)\r\n                })\r\n            } else if(this.state.ingredientsList.length > 0) {\r\n                //Search by ingredients\r\n                axios.get('/searchForRecipebyIngredients', searchDetails).then((results)=>{\r\n                    this.props.setRecipes(results.data)\r\n                })\r\n            } else if (this.state.ingredientsList.length === 0 && this.state.recipeSearch === \"\"){\r\n                //Search all recipes\r\n                axios.get('/searchAllRecipes').then((results)=>{\r\n                    this.props.setRecipes(results.data)\r\n                })\r\n            } else {\r\n                //Search by recipe name\r\n                axios.get('/searchForRecipeByName', searchDetails).then((results)=>{\r\n                    this.props.setRecipes(results.data)\r\n                })\r\n            }\r\n            this.setState({errMsg:\"\"})\r\n      //  }\r\n        this.setState({loading: false})\r\n    }\r\n\r\n    handleAddIngredientSubmit = event => {\r\n        event.preventDefault();\r\n        var ingredient = {Id: this.state.ingredientId, Ingredient: this.state.ingredient}\r\n        let ingredients = [...this.state.ingredientsList, ingredient];\r\n        this.setState({ingredientsList: ingredients, ingredient: \"\", ingredientId: this.state.ingredientId + 1});\r\n    }\r\n\r\n    handleRecipeSearchChange = event => {\r\n        event.preventDefault();\r\n        this.setState({recipeSearch: event.target.value});\r\n    }\r\n\r\n    handleIngredientsChange = event => {\r\n        event.preventDefault();\r\n        this.setState({ingredient: event.target.value});\r\n    }\r\n\r\n    handleDisplayIngredient = event => {\r\n        event.preventDefault();\r\n        this.setState({displayAddIngredients: true, displayRecipeSearch: false})\r\n    }\r\n\r\n    handleDisplaySearch = event => {\r\n        event.preventDefault();\r\n        this.setState({displayAddIngredients: false, displayRecipeSearch: true})\r\n    }\r\n\r\n    //Never Mutate state directly\r\n    handleRemoveIngredient = (ingredient) => {    \r\n        var filteredList = this.state.ingredientsList.filter(function(item) { \r\n            return item.Id !== ingredient.Id\r\n        })\r\n        this.setState({ingredientsList: filteredList})      \r\n    }\r\n\r\n\r\n    displaySearch(){\r\n        if(this.state.displayRecipeSearch === true){\r\n            return(\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-lg-3\">\r\n                                <p style={{fontSize: \"18px\", marginTop: \"5px\", textAlign:\"center\"}}>Ingredients: {this.state.ingredientsList.length}</p>\r\n                            </div>\r\n                            <div className=\"form-group col-lg-4 col-md-12\">\r\n                                <input type=\"text\" className=\"form-control\" onChange={this.handleRecipeSearchChange} value={this.state.recipeSearch} placeholder=\"Recipe Name\" maxLength=\"40\"/> \r\n                            </div>\r\n                            <div className=\"form-group col-lg-2 \">\r\n                                <input type=\"submit\" className=\"form-control btn btn-success\" value=\"Search\" width=\"10px\"/>\r\n                            </div>\r\n                             {/* Button to switch between adding ingredients & recipe name */}\r\n                             <div className=\"form-group col-lg-2 col-sm-12\">\r\n                                <button className=\"form-control btn btn-primary\" onClick={this.handleDisplayIngredient}>Add Ingredients</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            )\r\n        }\r\n    }\r\n\r\n    //Allows user to add ingredients into the search\r\n    displayAddIngredients(){\r\n        const ingredientList = this.state.ingredientsList.map(ingredient => {\r\n            return(\r\n                    <div className=\"ingredientsList\" key={ingredient.Id} style={{fontSize: \"18px\", marginBottom:\"5px\", textAlign:\"center\"}} >\r\n                        <a style={{fontSize: \"18px\", textAlign:\"center\"}} href=\"#\" className=\"ingredientListItem2\" onClick={() => { this.handleRemoveIngredient(ingredient)}}>- {ingredient.Ingredient}</a>\r\n                    </div>\r\n            )\r\n        })\r\n        \r\n        var emptyList;\r\n        if(this.state.ingredientsList.length === 0){\r\n            emptyList = <p style={{marginTop: \"5px\", textAlign:\"center\"}}><i>Empty...</i></p>\r\n        }\r\n\r\n        if(this.state.displayAddIngredients === true){\r\n            return(\r\n                <form onSubmit={this.handleAddIngredientSubmit}>\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-lg-3 col-sm-12\" style={{marginBottom:\"15px\"}}>\r\n                                {ingredientList}\r\n                                {emptyList}\r\n                            </div>\r\n                            <div className=\"form-group col-lg-4 col-md-12\">\r\n                                <input type=\"text\" className=\"form-control\" onChange={this.handleIngredientsChange} placeholder=\"Ingredient\" value={this.state.ingredient} maxLength=\"25\" required/> \r\n                            </div>\r\n                            <div className=\"form-group col-lg-2 col-sm-12\">\r\n                                <input type=\"submit\" className=\"form-control btn btn-success\" value=\"Add\" width=\"10px\"/>\r\n                            </div>\r\n                            <div className=\"form-group col-lg-2 col-sm-12\">\r\n                                <button className=\"form-control btn btn-primary\" onClick={this.handleDisplaySearch}>Back to Search</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var displaySearch = this.displaySearch();\r\n        var displayAddIngredients = this.displayAddIngredients();\r\n        return (\r\n            <div>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-12\">\r\n                            {displaySearch}\r\n                            {displayAddIngredients}\r\n                            <p style={{color:\"red\", textAlign:\"center\"}}>{this.state.errMsg}</p>\r\n                        </div>\r\n                        <div className=\"sweet-loading col-12\" style={{textAlign:\"center\", margin:\"0 auto\"}}>\r\n                            <BeatLoader\r\n                            size={15}\r\n                            margin={2}\r\n                            color={\"#123abc\"}\r\n                            loading={this.state.loading}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdvancedSearch\r\n","import React, { Component } from 'react'\r\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'react-bootstrap';\r\n\r\nclass FilterResult extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            dropdownOpen: true,\r\n            toggle:true\r\n        }\r\n    }\r\n\r\n    handleNewest = (event) => {\r\n        event.preventDefault();\r\n        this.props.filterRecipes(\"Newest\")\r\n    }\r\n\r\n    handleOldest = (event) => {\r\n        event.preventDefault();\r\n        this.props.filterRecipes(\"Oldest\")\r\n    }\r\n\r\n    handleMostSaved = (event) => {\r\n        event.preventDefault();\r\n        this.props.filterRecipes(\"Most Saved\")\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n               <Dropdown>\r\n                    <Dropdown.Toggle variant=\"default\" id=\"dropdown-basic\">\r\n                        Sort By\r\n                    </Dropdown.Toggle>\r\n\r\n                    <Dropdown.Menu>\r\n                        <Dropdown.Item onClick={this.handleNewest}>Newest</Dropdown.Item>\r\n                        <Dropdown.Item onClick={this.handleOldest} >Oldest</Dropdown.Item>\r\n                        <Dropdown.Item onClick={this.handleMostSaved} >Most Saved</Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                </Dropdown>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FilterResult\r\n\r\n","import React, { Component } from 'react'\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport {Link} from 'react-router-dom'\r\nimport FilterResult from './filterResult';\r\nimport '../../../styles/recipe/discover/recipeSearchResults.css'\r\n\r\nclass RecipeSearchResults extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            recipes: this.props.recipes\r\n        }\r\n    }\r\n\r\n    displaySearchHelp = event => {\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n            return (\r\n                <div className='custom-ui'>\r\n                  <h1>3 ways to Search For Recipes</h1>\r\n                  <p><i>1. Search By Recipe Name</i></p>\r\n                  <p> This will find recipes that contain the name you entered. For example if you entered Pie, it will display recipes such as Apple Pie, Pumpkin Pie etc</p>\r\n                  <p><i>2. Search By Ingredients</i></p>\r\n                  <p> This will find recipes that contain ALL the ingredients you entered. For example if a recipe contains only 2 of the 3 ingredients you entered, it will NOT display.</p>\r\n                  <p><i>3. Search By Recipe Name and Ingredients</i></p>\r\n                  <p> This combines the first 2 options. The recipe must contain all the ingredients you entered and must contain the Recipe name you entered</p>\r\n                  <button onClick={onClose}>OK</button>\r\n                </div>\r\n              );\r\n            }\r\n        });\r\n    }\r\n\r\n    didFindRecipes(){\r\n        var emptyList = null   //Display message if no recipes found\r\n        if(this.state.recipes.length == 0){\r\n            return <div style={{textAlign: \"center\"}}>\r\n                        <p> No Recipe Found... </p>\r\n                        <a  href=\"#\" onClick={this.displaySearchHelp}>Click for Help</a>\r\n                    </div>\r\n        } \r\n    }\r\n\r\n    filterRecipes = (filterType) => {\r\n        if(filterType === \"Newest\"){\r\n            this.setState({recipes: this.state.recipes.sort((a, b) => new Date(a.Created_Date) - new Date(b.Created_Date))})\r\n        } else if (filterType === \"Oldest\") {\r\n            this.setState({recipes: this.state.recipes.sort((a, b) => new Date(b.Created_Date) - new Date(a.Created_Date))})\r\n        } else if (filterType === \"Most Saved\"){\r\n            console.log(this.state.recipes)\r\n            this.setState({recipes: this.state.recipes.sort((a, b) => parseFloat(b.Saves) - parseFloat(a.Saves))})\r\n            console.log(this.state.recipes)\r\n        }\r\n    }\r\n\r\n    //Uncomment lines when deployed\r\n    renderViewButton(recipeId){\r\n      //  if(this.props.userId > 0){\r\n            return (<Link className=\"btn btn-success viewButton\" to={\"ViewRecipe/\"+(recipeId)}>View</Link>)\r\n      //  } else {\r\n            //User is not logged in, redirect to minified view recipe version\r\n       //     return (<Link className=\"btn btn-success viewButton\" to={\"NoAccount_ViewRecipe/\"+(recipeId)}>View</Link>)\r\n      //  }\r\n    }\r\n\r\n\r\n    render() {\r\n        var emptyList = this.didFindRecipes(); //\r\n\r\n        var recipes = this.state.recipes.map((recipe)=>{\r\n            return <div className=\"recipeCard card col-lg-4 col-md-6 col-sm-12\" key={recipe.Recipe_Id}> \r\n                        <div className=\"card-body recipeCardBody\" >\r\n                            <h5  style={{display: \"inline-block\"}} className=\"card-title float-center\">{recipe.Name} </h5>\r\n                            {/*<p  style={{display: \"inline-block\"}}className=\"card-text float-right numberCircle\">{recipe.Saves}&#10084;</p> */}\r\n                            <p className=\"card-text\">Servings: {recipe.Servings}</p>\r\n                            <p className=\"card-text\">{recipe.Cooking_Time} Minutes</p>\r\n                            <hr />\r\n                            <p className=\"card-text float-center\" style={{display: \"inline-block\"}}>{recipe.Saves}&hearts;</p> \r\n                            <p className=\"card-text float-center\" style={{display: \"inline-block\"}}>&nbsp;{recipe.Username}</p>\r\n                            <br />\r\n                            {this.renderViewButton(recipe.Recipe_Id)}\r\n                        </div>\r\n                    </div>\r\n        })\r\n\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                    <h4 style={{textAlign: \"center\"}}> {this.state.recipes.length} Recipe(s) </h4>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\" style={{marginBottom:\"10px\"}}>\r\n                        <FilterResult filterRecipes={this.filterRecipes}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                        {emptyList}\r\n                    </div>\r\n                    {recipes}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RecipeSearchResults","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {getUserById} from '../../../actions/userActions';\r\nimport Navbar from '../../navbar/navbar'\r\nimport AdvancedSearch from '../../utils/advancedSearch'\r\nimport RecipeSearchResults from './recipeSearchResults'\r\nimport '../../../styles/recipe/discover/discover.css'\r\n\r\nclass Index extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            userId: 0,\r\n            recipes: [],\r\n            recipesLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.user.map((user)=>{\r\n            this.setState({userId: user.User_Id})\r\n         })\r\n    }\r\n\r\n    setRecipesLoaded = (isLoaded) => {\r\n        this.setState({recipesLoaded: isLoaded})\r\n    } \r\n\r\n    setRecipes = (recipes) => {\r\n        this.setState({recipes: recipes, recipesLoaded: true})\r\n    }\r\n\r\n    render() {\r\n\r\n       \r\n        const recipesLoaded = this.state.recipesLoaded\r\n        \r\n        return (\r\n            <div>\r\n                <Navbar />\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 advancedRecipeSearch\">\r\n                            <AdvancedSearch \r\n                                userId={this.state.userId} \r\n                                setRecipes={this.setRecipes}\r\n                                setRecipesLoaded={this.setRecipesLoaded}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"col-12\">\r\n                            {recipesLoaded ? <RecipeSearchResults recipes={this.state.recipes} userId={this.state.userId} /> : <div></div>}\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//map state to props to get state from redux and use in this component\r\nconst mapStateToProps = state => ({\r\n    user: state.user.user,\r\n})\r\n\r\nexport default connect(mapStateToProps)(Index);","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport Navbar from '../../navbar/navbar'\r\nimport axios from 'axios';\r\n\r\nclass Index extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            userId: null,\r\n            title: \"\",\r\n            description: \"\",\r\n            errMsg: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.user.map((user)=>{\r\n           this.setState({userId: user.User_Id})\r\n        })\r\n    } \r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        var bugDetail = {\r\n            userId: this.state.userId,\r\n            title: this.state.title,\r\n            description: this.state.description,\r\n        }\r\n        axios.post('/createBugReport', bugDetail).then((response)=>{\r\n            this.setState({errMsg: \"\"})\r\n            this.props.history.push({pathname: \"/Home\", state:{bugSubmited: true}})\r\n        }).catch((error)=>{\r\n            this.setState({errMsg: \"Error 500, can't submit bug report\"})\r\n        })\r\n    }\r\n\r\n    handleTitleChange = (event) => {\r\n        this.setState({title: event.target.value})\r\n    }\r\n\r\n    handleDescriptionChange = (event) => {\r\n        this.setState({description: event.target.value})\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.userId){\r\n            return <div>Loading...</div>\r\n        }\r\n        return (\r\n            <div>\r\n                <Navbar />\r\n                <div className=\"container\">\r\n                    <h3 style={{textAlign:\"center\"}}>Report a Bug</h3>\r\n                    <p style={{textAlign:\"center\", color:\"red\"}}>{this.state.errMsg}</p>\r\n                    <form style={{marginTop:\"20px\"}} onSubmit={this.handleSubmit}>\r\n                        <div className=\"row\">\r\n                            <div className=\"form-group col-lg-12\">\r\n                                <label>Title<span className=\"formRequired\">*</span></label>\r\n                                <input style={{width : \"100%\"}} type=\"text\" className=\"form-control\" onChange={this.handleTitleChange} value={this.state.title} placeholder=\"Title of Bug\" required /> \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"form-group col-lg-12\">\r\n                                <label>Description<span className=\"formRequired\">*</span></label>\r\n                                <textarea rows=\"6\" style={{width : \"100%\"}} type=\"text\" className=\"form-control\" onChange={this.handleDescriptionChange} value={this.state.description} placeholder=\"Description of Bug&#13;Please be as descriptive as possible&#13;What did you do => what did you expect to happen => what actually happened\" required /> \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"form-group col-lg-2 col-sm-12\">\r\n                                <input type=\"submit\" className=\"btn btn-warning form-control\" value=\"Report\" />\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//map state to props to get state from redux and use in this component\r\nconst mapStateToProps = state => ({\r\n    user: state.user.user,\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps)(Index)\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport Navbar from '../../navbar/navbar'\r\nimport axios from 'axios';\r\n\r\nclass Index extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            userId: null,\r\n            title: \"\",\r\n            description: \"\",\r\n            errMsg: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.user.map((user)=>{\r\n           this.setState({userId: user.User_Id})\r\n        })\r\n    } \r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        var featureDetail = {\r\n            userId: this.state.userId,\r\n            title: this.state.title,\r\n            description: this.state.description,\r\n        }\r\n        axios.post('/createFeatureRequest', featureDetail).then((response)=>{\r\n            this.setState({errMsg: \"\"})\r\n            this.props.history.push({pathname: \"/Home\", state:{featureRequestSubmited: true}})\r\n        }).catch((error)=>{\r\n            this.setState({errMsg: \"Error 500, can't submit bug repofeature request\"})\r\n        })\r\n    }\r\n\r\n    handleTitleChange = (event) => {\r\n        this.setState({title: event.target.value})\r\n    }\r\n\r\n    handleDescriptionChange = (event) => {\r\n        this.setState({description: event.target.value})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Navbar />\r\n                <div className=\"container\">\r\n                    <h3 style={{textAlign:\"center\"}}>Request a Feature</h3>\r\n                    <p style={{textAlign:\"center\", color:\"red\"}}>{this.state.errMsg}</p>\r\n                    <form style={{marginTop:\"20px\"}} onSubmit={this.handleSubmit}>\r\n                        <div className=\"row\">\r\n                            <div className=\"form-group col-lg-12\">\r\n                                <label>Title<span className=\"formRequired\">*</span></label>\r\n                                <input style={{width : \"100%\"}} type=\"text\" className=\"form-control\" onChange={this.handleTitleChange} value={this.state.title} placeholder=\"Title of Feature\" required /> \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"form-group col-lg-12\">\r\n                                <label>Description<span className=\"formRequired\">*</span></label>\r\n                                <textarea rows=\"6\" style={{width : \"100%\"}} type=\"text\" className=\"form-control\" onChange={this.handleDescriptionChange} value={this.state.description} placeholder=\"Description of Feature&#13;Please be as descriptive as possible&#13;What is the feature and why should we implement it\" required /> \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"form-group col-lg-2 col-sm-12\">\r\n                                <input type=\"submit\" className=\"btn btn-success form-control\" value=\"Submit\" />\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//map state to props to get state from redux and use in this component\r\nconst mapStateToProps = state => ({\r\n    user: state.user.user,\r\n})\r\n\r\nexport default connect(mapStateToProps)(Index);","import {GET_USER, GET_USER_BY_ID, RESET_USER} from '../actions/types';\r\n\r\nconst initialState = {\r\n    user: [] //Stores all user data\r\n}\r\n\r\nexport default function(state = initialState, action){\r\n    switch(action.type){\r\n        case GET_USER:\r\n            return {\r\n                ...state,\r\n                user: action.payload\r\n            };\r\n        case GET_USER_BY_ID:\r\n            return {\r\n                ...state,\r\n                user: action.payload\r\n            };\r\n        case RESET_USER:\r\n            return {\r\n                ...state,\r\n                user: []\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import {GET_USER_RECIPES, RESET_RECIPES} from '../actions/types';\r\n\r\nconst initialState = {\r\n    recipes: [] //Stores all recipes from user\r\n}\r\n\r\nexport default function(state = initialState, action){\r\n    switch(action.type){\r\n        case GET_USER_RECIPES:\r\n            return {\r\n                ...state,\r\n                recipes: action.payload\r\n            };\r\n        case RESET_RECIPES:\r\n            return {\r\n                ...state,\r\n                recipes: []\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {combineReducers} from 'redux';\r\nimport userReducer from './userReducer';\r\nimport recipeReducer from './recipeReducer';\r\n\r\nexport default combineReducers({\r\n    user: userReducer,\r\n    recipe: recipeReducer\r\n})","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers/index';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n}\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\r\n\r\n\r\nconst store = createStore(\r\n    persistedReducer,\r\n    //rootReducer, \r\n    //persistedStorage,\r\n    initialState,\r\n    compose(applyMiddleware(...middleware), window.__REDUX_DEVTOOLS_EXTENSION__&& window.__REDUX_DEVTOOLS_EXTENSION__()\r\n));\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport {store, persistor};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*function saveToLocalStorage(state){\r\n    try{\r\n        const serializedState = JSON.stringify(state);\r\n        localStorage.setItem('state', serializedState);\r\n    }catch(e){\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nfunction loadFromLocalStorage(){\r\n    try{\r\n        const serializedState = localStorage.getItem('state');\r\n        if(serializedState === null){\r\n            return undefined;\r\n        } else {\r\n            return JSON.parse(serializedState);\r\n        } \r\n    }catch(e){\r\n        console.log(e)\r\n        return undefined\r\n    }\r\n} \r\n\r\nconst persistedStorage = loadFromLocalStorage(); */","import React from 'react';\nimport {BrowserRouter, Route, Switch} from 'react-router-dom'\nimport {ProtectedRoute} from './components/utils/protected-routes'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport LandingPage from './components/landingPage'\nimport Index from './components/recipe/main/index'\nimport Register from './components/register/register'\nimport ViewRecipe from './components/recipe/view-recipe/index'\nimport ViewRecipeNotLoggedIn from './components/recipe/view-recipe/viewRecipeNotLoggedIn'\nimport CreateRecipe from './components/recipe/create-recipe/index'\nimport ResetPassword from './components/account/reset-password/index'\nimport Discover from './components/recipe/discover/index'\nimport Bug from './components/user/bug/index'\nimport FeatureRequest from './components/user/feature-request/index'\n\nimport {Provider} from 'react-redux'; //Wraps everything insider provider //\nimport {store, persistor} from './store';\n\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n            <div className=\"App\">\n              <Switch>\n                <Route exact path =\"/\" component={LandingPage} /> \n                <ProtectedRoute path =\"/Home\" component={Index} />\n                <Route path =\"/Register\" component={Register} />\n                <ProtectedRoute path =\"/ViewRecipe/:recipeId\" component={ViewRecipe} />\n                <Route path =\"/NoAccount_ViewRecipe/:recipeId\" component={ViewRecipeNotLoggedIn} />\n                <ProtectedRoute path =\"/CreateRecipe\" component={CreateRecipe} />\n                <ProtectedRoute path =\"/EditRecipe\" component={CreateRecipe} />\n                <Route path =\"/ResetPassword\" component={ResetPassword} />\n                <Route path =\"/Discover\" component={Discover} />\n                <ProtectedRoute path =\"/ReportBug\" component={Bug} />\n                <ProtectedRoute path =\"/FeatureRequest\" component={FeatureRequest} />\n\n                <Route  path =\"/*\" component={() => \"Error 404 Page Not Found\"} />\n              </Switch>\n            </div>\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}